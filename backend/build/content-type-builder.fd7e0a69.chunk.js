(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[7101],{4191:(V,U,n)=>{var t=n(87864),O=n(86386),u=n(45353),E=n(29884),y=n(74565),z=n(52689),T=n(48126),H=n(82388),J=n(82261);function me(q,W,k){W.length?W=t(W,function(j){return J(j)?function(ee){return O(ee,j.length===1?j[0]:j)}:j}):W=[H];var P=-1;W=t(W,z(u));var te=E(q,function(j,ee,M){var K=t(W,function(ne){return ne(j)});return{criteria:K,index:++P,value:j}});return y(te,function(j,ee){return T(j,ee,k)})}V.exports=me},9607:(V,U,n)=>{"use strict";n.d(U,{A:()=>Ne});var t=n(21272),O=n(94061),u=n(51337),E=n(57009),y=n(92132);const z=w=>(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 34 25",...w,children:[(0,y.jsx)("rect",{width:33,height:23,x:.5,y:1,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,y.jsx)("path",{fill:"#0C75AF",d:"M18.901 9.828a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,y.jsx)("path",{fill:"#0C75AF",d:"M19.703 8.785a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.814.814 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 13.488a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,y.jsx)("path",{fill:"#0C75AF",d:"M19.703 12.445a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.307 1.307 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 17.247a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,y.jsx)("path",{fill:"#0C75AF",d:"M19.703 16.204a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.698 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.313-.477-.313-.482-.002ZM15.075 9.842a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,y.jsx)("path",{fill:"#0C75AF",d:"M15.876 8.8a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 13.503a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,y.jsx)("path",{fill:"#0C75AF",d:"M15.876 12.46a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 17.261a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,y.jsx)("path",{fill:"#0C75AF",d:"M15.876 16.218a.81.81 0 0 1-.512.749.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.808.808 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.293 1.293 0 0 0-.119 1.487c.283.468.831.698 1.365.596.596-.113 1.011-.664 1.02-1.258.006-.311-.477-.311-.482 0Z"})]}),T=z;var H=n(71982);const J=w=>(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...w,children:[(0,y.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#4945FF",stroke:"#4945FF",rx:2.5}),(0,y.jsx)("path",{fill:"#fff",d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082ZM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782Z"})]}),me=J;var q=n(21639),W=n(52078),k=n(98659),P=n(19170),te=n(49167),j=n(5046),ee=n(52076);const M=w=>(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...w,children:[(0,y.jsx)("path",{fill:"#FDF4DC",stroke:"#FAE7B9",d:"M.5 3A2.5 2.5 0 0 1 3 .5h26A2.5 2.5 0 0 1 31.5 3v18a2.5 2.5 0 0 1-2.5 2.5H3A2.5 2.5 0 0 1 .5 21V3Z"}),(0,y.jsx)("path",{fill:"#D9822F",d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 0 1 2.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 0 0 .433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 0 0-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887Z"})]}),K=M;var ne=n(91086);const ae=w=>(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...w,children:[(0,y.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,y.jsx)("path",{fill:"#0C75AF",fillRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 0 0-.138-.302A.465.465 0 0 0 18.82 8h-8.357a.465.465 0 0 0-.326.127.397.397 0 0 0-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 0 0 .327-.127.397.397 0 0 0 .138-.301Zm2.785 2.713v.857a.397.397 0 0 1-.137.301.465.465 0 0 1-.327.128H10.464a.465.465 0 0 1-.326-.128.397.397 0 0 1-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 0 1 .326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 0 1 .137.302Zm-1.857 3.574v.857a.397.397 0 0 1-.137.302.465.465 0 0 1-.327.127h-9.286a.465.465 0 0 1-.326-.127.397.397 0 0 1-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 0 1 .326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 0 1 .138.301Z",clipRule:"evenodd"})]}),oe=ae,ge=w=>(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...w,children:[(0,y.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#0C75AF",stroke:"#0C75AF",rx:2.5}),(0,y.jsx)("path",{fill:"#fff",d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71ZM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781Z"})]}),De=ge;var ce=n(45559),Be=n(75652),Ce=n(33544),Se=n.n(Ce),d=n(63891);const $e={biginteger:E.A,blocks:T,boolean:H.A,collectionType:me,component:q.A,contentType:me,date:W.A,datetime:W.A,decimal:E.A,dynamiczone:k.A,email:P.A,enum:te.A,enumeration:te.A,file:j.A,files:j.A,float:E.A,integer:E.A,json:ee.A,JSON:ee.A,media:j.A,number:E.A,password:K,relation:ne.A,richtext:oe,singleType:De,string:ce.A,text:ce.A,time:W.A,timestamp:W.A,uid:Be.A},Fe=(0,d.Ay)(O.a)`
  svg {
    height: 100%;
    width: 100%;
  }
`,he=({type:w,customField:dt,...ut})=>{const xt=(0,u.AC)();let Qe=$e[w];if(dt){const{icon:et}=xt.get(dt);et&&(Qe=et)}return $e[w]?t.createElement(Fe,{height:(0,u.a8)(24),width:(0,u.a8)(32),shrink:0,...ut,"aria-hidden":!0},t.createElement(O.a,{as:Qe})):null};he.defaultProps={customField:null},he.propTypes={type:Se().string.isRequired,customField:Se().string};const Ne=he},20415:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:(0,t.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M2.68 9.192c-.6.276-2.114 1.18-2.306 1.303a.792.792 0 0 0-.374.68v1.65a.797.797 0 0 0 .384.687c.254.16 1.73 1.042 2.306 1.303l.744 1.8c-.24.634-.67 2.333-.72 2.554a.797.797 0 0 0 .216.744l1.167 1.166a.801.801 0 0 0 .744.216l.03-.008c.36-.092 1.946-.498 2.523-.712l1.8.744c.276.6 1.181 2.115 1.304 2.307a.805.805 0 0 0 .679.374h1.649a.797.797 0 0 0 .686-.384c.16-.254 1.042-1.73 1.303-2.306l1.8-.744c.634.24 2.333.67 2.554.72a.797.797 0 0 0 .744-.216l1.166-1.167a.803.803 0 0 0 .216-.744l-.008-.03c-.092-.36-.498-1.946-.712-2.523l.744-1.8c.6-.276 2.115-1.181 2.307-1.304a.804.804 0 0 0 .374-.679v-1.649a.796.796 0 0 0-.382-.679c-.254-.16-1.73-1.041-2.306-1.303l-.744-1.8c.24-.634.67-2.333.72-2.554a.796.796 0 0 0-.216-.744l-1.166-1.173a.802.802 0 0 0-.744-.216l-.03.008c-.361.092-1.947.498-2.524.712l-1.8-.744c-.276-.6-1.18-2.115-1.303-2.307a.803.803 0 0 0-.68-.374h-1.65a.797.797 0 0 0-.68.382c-.16.254-1.041 1.73-1.303 2.306l-1.8.744c-.634-.24-2.333-.67-2.554-.72a.797.797 0 0 0-.744.216L2.921 4.094a.802.802 0 0 0-.216.744l.008.03c.092.361.498 1.947.712 2.524l-.744 1.8ZM12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z",clipRule:"evenodd"})}),u=O},21396:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:(0,t.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M23.12 3.907c-.025 0-.055-.005-.087-.011a.72.72 0 0 0-.13-.016H5.929l-.27-1.805A2.413 2.413 0 0 0 3.26 0H1.078C.485 0 0 .485 0 1.078c0 .593.485 1.078 1.078 1.078H3.26c.135 0 .243.107.27.242L5.2 13.77a2.954 2.954 0 0 0 2.91 2.506h11.21c1.401 0 2.614-.997 2.91-2.371l1.752-8.757a1.065 1.065 0 0 0-.863-1.24Zm-4.932 13.927a2.8 2.8 0 0 0-2.802 2.802 2.8 2.8 0 0 0 2.802 2.802 2.8 2.8 0 0 0 2.803-2.802c-.027-1.536-1.267-2.802-2.803-2.802Zm-9.646 0a2.786 2.786 0 0 1 2.775 2.667c.081 1.536-1.132 2.83-2.667 2.91h-.054a2.762 2.762 0 0 1-2.749-2.667 2.819 2.819 0 0 1 2.695-2.91Z",clipRule:"evenodd"})}),u=O},22171:(V,U,n)=>{var t=n(41225),O=n(52689),u=n(54765),E=u&&u.isRegExp,y=E?O(E):t;V.exports=y},26924:(V,U,n)=>{"use strict";n.d(U,{Mz:()=>J});var t="NOT_FOUND";function O(q){var W;return{get:function(P){return W&&q(W.key,P)?W.value:t},put:function(P,te){W={key:P,value:te}},getEntries:function(){return W?[W]:[]},clear:function(){W=void 0}}}function u(q,W){var k=[];function P(M){var K=k.findIndex(function(ae){return W(M,ae.key)});if(K>-1){var ne=k[K];return K>0&&(k.splice(K,1),k.unshift(ne)),ne.value}return t}function te(M,K){P(M)===t&&(k.unshift({key:M,value:K}),k.length>q&&k.pop())}function j(){return k}function ee(){k=[]}return{get:P,put:te,getEntries:j,clear:ee}}var E=function(W,k){return W===k};function y(q){return function(k,P){if(k===null||P===null||k.length!==P.length)return!1;for(var te=k.length,j=0;j<te;j++)if(!q(k[j],P[j]))return!1;return!0}}function z(q,W){var k=typeof W=="object"?W:{equalityCheck:W},P=k.equalityCheck,te=P===void 0?E:P,j=k.maxSize,ee=j===void 0?1:j,M=k.resultEqualityCheck,K=y(te),ne=ee===1?O(K):u(ee,K);function ae(){var oe=ne.get(arguments);if(oe===t){if(oe=q.apply(null,arguments),M){var ge=ne.getEntries(),De=ge.find(function(ce){return M(ce.value,oe)});De&&(oe=De.value)}ne.put(arguments,oe)}return oe}return ae.clearCache=function(){return ne.clear()},ae}function T(q){var W=Array.isArray(q[0])?q[0]:q;if(!W.every(function(P){return typeof P=="function"})){var k=W.map(function(P){return typeof P=="function"?"function "+(P.name||"unnamed")+"()":typeof P}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+k+"]")}return W}function H(q){for(var W=arguments.length,k=new Array(W>1?W-1:0),P=1;P<W;P++)k[P-1]=arguments[P];var te=function(){for(var ee=arguments.length,M=new Array(ee),K=0;K<ee;K++)M[K]=arguments[K];var ne=0,ae,oe={memoizeOptions:void 0},ge=M.pop();if(typeof ge=="object"&&(oe=ge,ge=M.pop()),typeof ge!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof ge+"]");var De=oe,ce=De.memoizeOptions,Be=ce===void 0?k:ce,Ce=Array.isArray(Be)?Be:[Be],Se=T(M),d=q.apply(void 0,[function(){return ne++,ge.apply(null,arguments)}].concat(Ce)),$e=q(function(){for(var he=[],Ne=Se.length,w=0;w<Ne;w++)he.push(Se[w].apply(null,arguments));return ae=d.apply(null,he),ae});return Object.assign($e,{resultFunc:ge,memoizedResultFunc:d,dependencies:Se,lastResult:function(){return ae},recomputations:function(){return ne},resetRecomputations:function(){return ne=0}}),$e};return te}var J=H(z),me=function(W,k){if(k===void 0&&(k=J),typeof W!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof W));var P=Object.keys(W),te=k(P.map(function(j){return W[j]}),function(){for(var j=arguments.length,ee=new Array(j),M=0;M<j;M++)ee[M]=arguments[M];return ee.reduce(function(K,ne,ae){return K[P[ae]]=ne,K},{})});return te}},28442:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:[(0,t.jsx)("path",{fill:"#212134",d:"M11.987 23.036v-.964H1.876V1.876h10.111V0H0v24h11.987v-.964Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M8 11.2c0-.11.09-.2.2-.2h11.973l-5.445-5.445a.2.2 0 0 1 0-.283l1.13-1.13a.2.2 0 0 1 .283 0l7.718 7.717a.2.2 0 0 1 0 .282L16.14 19.86a.2.2 0 0 1-.282 0l-1.13-1.13a.2.2 0 0 1 0-.284L20.172 13H8.2a.2.2 0 0 1-.2-.2v-1.6Z"})]}),u=O},29047:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:(0,t.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M23.707.297A1 1 0 0 0 23 .004h-2a13.907 13.907 0 0 0-5.38 1.077 1 1 0 0 0-.615.923V4.92a.035.035 0 0 1-.022.038l-2-1.47a1 1 0 0 0-1.265.052A14 14 0 0 0 7 14.004v1.585l-2.707 2.707a1 1 0 1 0 1.415 1.415l2.707-2.708H10a14.014 14.014 0 0 0 14-14v-2a1 1 0 0 0-.293-.706ZM18 23.999H3a3 3 0 0 1-3-3V6A3 3 0 0 1 3 3h3a1 1 0 1 1 0 2H3a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3Z",clipRule:"evenodd"})}),u=O},29884:(V,U,n)=>{var t=n(97449),O=n(91522);function u(E,y){var z=-1,T=O(E)?Array(E.length):[];return t(E,function(H,J,me){T[++z]=y(H,J,me)}),T}V.exports=u},35336:(V,U,n)=>{var t=n(8928),O=n(88974),u=n(20598),E=n(57505),y=n(22171),z=n(49605),T=n(30660),H=n(88765),J=n(85306),me=30,q="...",W=/\w*$/;function k(P,te){var j=me,ee=q;if(E(te)){var M="separator"in te?te.separator:M;j="length"in te?H(te.length):j,ee="omission"in te?t(te.omission):ee}P=J(P);var K=P.length;if(u(P)){var ne=T(P);K=ne.length}if(j>=K)return P;var ae=j-z(ee);if(ae<1)return ee;var oe=ne?O(ne,0,ae).join(""):P.slice(0,ae);if(M===void 0)return oe+ee;if(ne&&(ae+=oe.length-ae),y(M)){if(P.slice(ae).search(M)){var ge,De=oe;for(M.global||(M=RegExp(M.source,J(W.exec(M))+"g")),M.lastIndex=0;ge=M.exec(De);)var ce=ge.index;oe=oe.slice(0,ce===void 0?ae:ce)}}else if(P.indexOf(t(M),ae)!=ae){var Be=oe.lastIndexOf(M);Be>-1&&(oe=oe.slice(0,Be))}return oe+ee}V.exports=k},38910:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 25 25",...E,children:(0,t.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"m13.58.448 3.177 3.176L18.66 1.72a3.267 3.267 0 1 1 4.62 4.62l-1.904 1.904 3.175 3.175a1.528 1.528 0 0 1 0 2.162l-3.175 3.175L20.2 15.58a3.267 3.267 0 1 0-4.62 4.62l1.177 1.177-3.176 3.176a1.528 1.528 0 0 1-2.162 0l-3.175-3.175-1.902 1.902a3.267 3.267 0 1 1-4.62-4.62l1.902-1.902-3.176-3.176a1.528 1.528 0 0 1 0-2.162l3.176-3.176L4.8 9.42a3.267 3.267 0 0 0 4.62-4.62L8.244 3.623 11.419.448a1.528 1.528 0 0 1 2.162 0Z",clipRule:"evenodd"})}),u=O},39527:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:(0,t.jsx)("path",{fill:"#212134",d:"M6.455 19 2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455ZM7 10v2h2v-2H7Zm4 0v2h2v-2h-2Zm4 0v2h2v-2h-2Z"})}),u=O},41225:(V,U,n)=>{var t=n(81204),O=n(51646),u="[object RegExp]";function E(y){return O(y)&&t(y)==u}V.exports=E},44033:(V,U,n)=>{"use strict";n.d(U,{A:()=>E});var t=n(21272),O=n(56587);const E=()=>(0,t.useContext)(O.A)},45489:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(69284);const u=E=>`${t.A}.${E}`},45492:(V,U,n)=>{"use strict";n.d(U,{z:()=>Un});var t=n(58215),O=n(66322),u=n(9032),E=n(51505),y=n(46270),z=n(72417),T=n(42798),H=n(22405),J=n(26865),me=n(74091),q=n(54429),W=n(69542),k=n(12602),P=n(60426),te=n(96584),j=n(34280),ee=n(63679),M=n(38864),K=n(12430),ne=n(10908),ae=n(54514),oe=n(14448),ge=n(64169),De=n(54245),ce=n(20415),Be=n(60623),Ce=n(26665),Se=n(89315),d=n(18536),$e=n(81355),Fe=n(27421),he=n(69646),Ne=n(31084),w=n(99334),dt=n(37901),ut=n(69512),xt=n(19443),Qe=n(59598),et=n(27249),F=n(23646),qt=n(34313),Xt=n(28442),Jt=n(86986),Lt=n(83925),Qt=n(64199),en=n(4992),tn=n(85914),s=n(25614),_e=n(28604),nn=n(17470),an=n(83060),Ve=n(32816),sn=n(49389),on=n(60362),It=n(82151),Bt=n(51346),we=n(87868),mt=n(38934),He=n(39238),rn=n(52512),le=n(87578),ln=n(2919),cn=n(64213),dn=n(77701),St=n(43896),va=n(93659),Ft=n(28826),Ea=n(41231),pt=n(3851),Nt=n(57549),un=n(47684),gt=n(39783),mn=n(1423),ft=n(39527),ht=n(82813),tt=n(71656),nt=n(65841),Ma=n(23483),Wt=n(78580),pn=n(82431),yt=n(30899),gn=n(47926),ba=n(54678),Ut=n(64486),jt=n(41909),fn=n(77902),hn=n(95628),Kt=n(20055),yn=n(4487),Xe=n(89292),An=n(98052),vn=n(5194),En=n(13955),Mn=n(38910),bn=n(57574),Cn=n(97358),Tn=n(84447),Rn=n(84823),Ca=n(25490),On=n(19143),Ta=n(63931),Dn=n(60678),$t=n(46469),Pn=n(15363),at=n(61377),st=n(90682),At=n(21396),xn=n(44862),_t=n(84114),Ln=n(42386),vt=n(50929),Et=n(58971),zt=n(24408),In=n(18762),Zt=n(25262),Mt=n(53485),Bn=n(87348),bt=n(5503),Sn=n(22353),kt=n(20126),Fn=n(11171),Ct=n(6499),Nn=n(94959),Tt=n(76721),Wn=n(80906),Vt=n(29047);const Un={alien:t.A,apps:O.A,archive:u.A,arrowDown:E.A,arrowLeft:y.A,arrowRight:z.A,arrowUp:T.A,attachment:H.A,bell:J.A,bold:me.A,book:q.A,briefcase:W.A,brush:k.A,bulletList:P.A,calendar:te.A,car:j.A,cast:ee.A,chartBubble:M.A,chartCircle:K.A,chartPie:ne.A,check:ae.A,clock:oe.A,cloud:ge.A,code:De.A,cog:ce.A,collapse:Be.A,command:Ce.A,connector:Se.A,crop:d.A,crown:$e.A,cube:Fe.A,cup:he.A,cursor:Ne.A,dashboard:w.A,database:dt.A,discuss:ut.A,doctor:xt.A,earth:Qe.A,emotionHappy:et.A,emotionUnhappy:F.A,envelop:qt.A,exit:Xt.A,expand:Jt.A,eye:Lt.A,feather:Qt.A,file:en.A,fileError:tn.A,filePdf:s.A,filter:_e.A,folder:nn.A,gate:an.A,gift:Ve.A,globe:sn.A,grid:on.A,handHeart:It.A,hashtag:Bt.A,headphone:we.A,heart:mt.A,house:He.A,information:rn.A,italic:le.A,key:ln.A,landscape:cn.A,layer:dn.A,layout:St.A,lightbulb:va.A,link:Ft.A,lock:Ea.A,magic:pt.A,manyToMany:Nt.A,manyToOne:un.A,manyWays:gt.A,medium:mn.A,message:ft.A,microphone:ht.A,monitor:tt.A,moon:nt.A,music:Ma.A,oneToMany:Wt.A,oneToOne:pn.A,oneWay:yt.A,paint:gn.A,paintBrush:ba.A,paperPlane:Ut.A,pencil:jt.A,phone:fn.A,picture:hn.A,pin:Kt.A,pinMap:yn.A,plane:Xe.A,play:An.A,plus:vn.A,priceTag:En.A,puzzle:Mn.A,question:bn.A,quote:Cn.A,repeat:Tn.A,restaurant:Rn.A,rocket:Ca.A,rotate:On.A,scissors:Ta.A,search:Dn.A,seed:$t.A,server:Pn.A,shield:at.A,shirt:st.A,shoppingCart:At.A,slideshow:xn.A,stack:_t.A,star:Ln.A,store:vt.A,strikeThrough:Et.A,sun:zt.A,television:In.A,thumbDown:Zt.A,thumbUp:Mt.A,train:Bn.A,twitter:bt.A,typhoon:Sn.A,underline:kt.A,user:Fn.A,volumeMute:Ct.A,volumeUp:Nn.A,walk:Tt.A,wheelchair:Wn.A,write:Vt.A}},45635:(V,U,n)=>{var t=n(87212),O=n(4191),u=n(39226),E=n(3956),y=u(function(z,T){if(z==null)return[];var H=T.length;return H>1&&E(z,T[0],T[1])?T=[]:H>2&&E(T[0],T[1],T[2])&&(T=[T[0]]),O(z,t(T,1),[])});V.exports=y},48126:(V,U,n)=>{var t=n(64958);function O(u,E,y){for(var z=-1,T=u.criteria,H=E.criteria,J=T.length,me=y.length;++z<J;){var q=t(T[z],H[z]);if(q){if(z>=me)return q;var W=y[z];return q*(W=="desc"?-1:1)}}return u.index-E.index}V.exports=O},54429:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:(0,t.jsx)("path",{fill:"#212134",d:"M13 21v2.5l-3-2-3 2V21h-.5A3.5 3.5 0 0 1 3 17.5V5a3 3 0 0 1 3-3h14a1 1 0 0 1 1 1v17a1 1 0 0 1-1 1h-7Zm-6-2v-2h6v2h6v-3H6.5a1.5 1.5 0 1 0 0 3H7ZM7 5v2h2V5H7Zm0 3v2h2V8H7Zm0 3v2h2v-2H7Z"})}),u=O},56587:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(21272);const u=(0,t.createContext)()},57574:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 15 14",...E,children:(0,t.jsx)("path",{fill:"#212134",d:"M5.08 4.1c0-1.19 1.18-2.17 2.42-2.17s2.43.98 2.43 2.17c0 1.1-.56 1.61-1.31 2.28l-.03.03c-.75.65-1.66 1.47-1.66 3.09a.57.57 0 1 0 1.15 0c0-1.08.55-1.6 1.3-2.26l.02-.02c.75-.66 1.67-1.48 1.67-3.12C11.07 2.13 9.22.78 7.5.78 5.78.78 3.93 2.13 3.93 4.1a.57.57 0 1 0 1.15 0Zm2.42 9.26a.88.88 0 1 0 0-1.75.88.88 0 0 0 0 1.75Z"})}),u=O},58329:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(21272);const u=(0,t.createContext)()},64486:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:(0,t.jsx)("path",{fill:"#212134",d:"M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.53-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685Z"})}),u=O},64958:(V,U,n)=>{var t=n(91662);function O(u,E){if(u!==E){var y=u!==void 0,z=u===null,T=u===u,H=t(u),J=E!==void 0,me=E===null,q=E===E,W=t(E);if(!me&&!W&&!H&&u>E||H&&J&&q&&!me&&!W||z&&J&&q||!y&&q||!T)return 1;if(!z&&!H&&!W&&u<E||W&&y&&T&&!z&&!H||me&&y&&T||!J&&T||!q)return-1}return 0}V.exports=O},65387:(V,U,n)=>{"use strict";n.d(U,{A:()=>E});var t=n(21272),O=n(58329);const E=()=>(0,t.useContext)(O.A)},70496:(V,U,n)=>{"use strict";n.r(U),n.d(U,{default:()=>wo});var t=n(21272),O=n(42455),u=n(51337),E=n(14718),y=n(54894),z=n(17703),T=n(94061),H=n(18629),J=n(58805),me=n(41156),q=n(32091),W=n(29404),k=n(87419),P=n(92132),te=n(9005),j=n(63891),ee=n(84175),M=n(83997),K=n(30893);const ne=(0,j.Ay)(T.a)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,ae=j.Ay.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,oe=j.Ay.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,ge=({label:e,children:a,id:o})=>{const[r,i]=(0,t.useState)(!0),c=(0,ee.B)(o),l=()=>{i(m=>!m)};return(0,P.jsxs)(T.a,{children:[(0,P.jsx)(ne,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,P.jsx)(M.s,{justifyContent:"space-between",children:(0,P.jsxs)(ae,{onClick:l,"aria-expanded":r,"aria-controls":c,children:[(0,P.jsx)(oe,{rotated:r,children:(0,P.jsx)(te.A,{"aria-hidden":!0})}),(0,P.jsx)(T.a,{paddingLeft:2,children:(0,P.jsx)(K.o,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),r&&(0,P.jsx)("ul",{id:c,children:t.Children.map(a,(m,p)=>(0,P.jsx)("li",{children:m},p))})]})};var De=n(63996),ce=n(5194),Be=n(39404),Ce=n.n(Be),Se=n(71389),d=n(45489),$e=n(56336),Fe=n.n($e),he=n(44033),Ne=n(65387),w=n(69284);const ut=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:r,sortedContentTypesList:i,modifiedData:c,initialData:l}=(0,he.A)(),m=(0,u.hN)(),{trackUsage:p}=(0,u.z1)(),[h,f]=(0,t.useState)(""),{onOpenModalCreateSchema:g,onOpenModalEditCategory:x}=(0,Ne.A)(),{locale:D}=(0,y.A)(),{startsWith:C}=(0,u.U2)(D,{sensitivity:"base"}),B=(0,u.QM)(D,{sensitivity:"base"}),_=!Object.keys(o).some(Y=>o[Y].isTemporary===!0)&&!Object.keys(e).some(Y=>e[Y].isTemporary===!0)&&Fe()(c,l),R=()=>{_?(p("willCreateContentType"),g({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):Z()},N=()=>{_?(p("willCreateSingleType"),g({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):Z()},$=()=>{_?(p("willCreateComponent"),g({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):Z()},Z=()=>{m({type:"info",message:{id:(0,d.A)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},ie=Object.entries(a).map(([Y,Me])=>({name:Y,title:Y,isEditable:r,onClickEdit(re,xe){re.stopPropagation(),_?x(xe.name):Z()},links:Me.map(re=>({name:re.uid,to:`/plugins/${w.A}/component-categories/${Y}/${re.uid}`,title:re.schema.displayName})).sort((re,xe)=>B.compare(re.title,xe.title))})).sort((Y,Me)=>B.compare(Y.title,Me.title)),Ee=i.filter(Y=>Y.visible);return{menu:[{name:"models",title:{id:`${(0,d.A)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${(0,d.A)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:R},links:Ee.filter(Y=>Y.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.A)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${(0,d.A)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:N},links:Ee.filter(Y=>Y.kind==="singleType")},{name:"components",title:{id:`${(0,d.A)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${(0,d.A)("button.component.create")}`,defaultMessage:"Create a new component",onClick:$},links:ie}].map(Y=>Y.links.some(re=>Array.isArray(re.links))?{...Y,links:Y.links.map(re=>{const xe=re.links.filter(pe=>C(pe.title,h));return xe.length===0?null:{...re,links:xe.sort((pe,ue)=>B.compare(pe.title,ue.title))}}).filter(Boolean)}:{...Y,links:Y.links.filter(re=>C(re.title,h)).sort((re,xe)=>B.compare(re.title,xe.title))}),searchValue:h,onSearchChange:f}},Qe=()=>{const{menu:e,searchValue:a,onSearchChange:o}=ut(),{formatMessage:r}=(0,y.A)();return t.createElement(me.C,{ariaLabel:r({id:`${(0,d.A)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(q.X,{searchable:!0,value:a,onClear:()=>o(""),onChange:i=>o(i.target.value),label:r({id:`${(0,d.A)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),t.createElement(W.w,null,e.map(i=>t.createElement(t.Fragment,{key:i.name},t.createElement(k.L,{label:r({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(c=>c.links?t.createElement(ge,{key:c.name,label:Ce()(c.title)},c.links.map(l=>t.createElement(De.u,{as:Se.k2,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Ce()(r({id:l.name,defaultMessage:l.title}))))):t.createElement(De.u,{as:Se.k2,to:c.to,active:c.active,key:c.name},Ce()(r({id:c.name,defaultMessage:c.title}))))),i.customLink&&t.createElement(T.a,{paddingLeft:7},t.createElement(H.Q,{onClick:i.customLink.onClick,startIcon:t.createElement(J.I,{as:ce.A,width:(0,u.a8)(8),height:(0,u.a8)(8)}),marginTop:2},r({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))};var et=n(2600),F=n.n(et),qt=n(94710),Xt=n.n(qt),Jt=n(48940),Lt=n.n(Jt),Qt=n(14311),en=n.n(Qt),tn=n(33544),s=n.n(tn),_e=n(69267),nn=n(89356),an=n(56587),Ve=n(18685),sn=n(20636),on=n(61485),It=n(6239),Bt=n(12081),we=n(12408),mt=n(48653),He=n(24093),rn=n(67030),le=n(85963),ln=n(412),cn=n.n(ln),dn=n(89102),St=n.n(dn);const Ft=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),pt=(e,a)=>e.find(({name:o})=>o===a);var Nt=n(76079);const un=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],gt=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,y.A)(),c=r===null||r.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(m=>Ce()(m)).join(", "),l=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):a;return t.createElement(Nt.B,{id:"select1",label:l,customizeContent:()=>c,onChange:m=>{m.length>0?o({target:{name:a,value:m,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:un,value:r||[]})};gt.defaultProps={value:null},gt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().object,s().array])};const mn=gt;var ft=n(94293),ht=n(90151),tt=n(68074),nt=n(9607);const Wt=(0,j.Ay)(T.a)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,pn=(0,j.Ay)(T.a)`
  background-color: ${({theme:e})=>e.colors.secondary100};
  border: ${({theme:e})=>`1px solid ${e.colors.secondary200}`};
  border-radius: ${({theme:e})=>e.borderRadius};
  font-size: ${({theme:e})=>e.fontSizes[0]};
  padding: ${({theme:e})=>`${2/16}rem ${e.spaces[1]}`};
`,yt=({type:e})=>{const{formatMessage:a}=(0,y.A)(),{onClickSelectField:o}=(0,Ne.A)(),r=()=>{o({attributeType:e,step:e==="component"?"1":null})};return t.createElement(Wt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r},t.createElement(M.s,null,t.createElement(nt.A,{type:e}),t.createElement(T.a,{paddingLeft:4,width:"100%"},t.createElement(M.s,{justifyContent:"space-between"},t.createElement(K.o,{fontWeight:"bold"},a({id:(0,d.A)(`attribute.${e}`),defaultMessage:e})),e==="blocks"&&t.createElement(pn,null,t.createElement(K.o,{textColor:"secondary600",variant:"sigma"},"BETA"))),t.createElement(M.s,null,t.createElement(K.o,{variant:"pi",textColor:"neutral600"},a({id:(0,d.A)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};yt.defaultProps={type:"text"},yt.propTypes={type:s().string};const gn=yt,Ut=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},jt=({attributes:e})=>t.createElement(ft.r,{tagName:"button"},t.createElement(M.s,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>t.createElement(ht.x,{key:o,gap:0},a.map((r,i)=>{const{paddingLeft:c,paddingRight:l}=Ut(i);return t.createElement(tt.E,{key:r,col:6},t.createElement(T.a,{paddingLeft:c,paddingRight:l,paddingBottom:1,style:{height:"100%"}},t.createElement(gn,{type:r})))})))));jt.propTypes={attributes:s().array.isRequired};const fn=jt;var hn=n(64871);const Kt=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:r,intlDescription:i}=a,{formatMessage:c}=(0,y.A)(),{onClickSelectCustomField:l}=(0,Ne.A)(),m=()=>{l({attributeType:o,customFieldUid:e})};return t.createElement(Wt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:m},t.createElement(M.s,null,t.createElement(nt.A,{type:o,customField:e}),t.createElement(T.a,{paddingLeft:4},t.createElement(M.s,null,t.createElement(K.o,{fontWeight:"bold"},c(r))),t.createElement(M.s,null,t.createElement(K.o,{variant:"pi",textColor:"neutral600"},c(i))))))};Kt.propTypes={customFieldUid:s().string.isRequired,customField:s().shape({type:s().string.isRequired,icon:s().func,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,intlDescription:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired}).isRequired};const yn=Kt;var Xe=n(11270),An=n(76325);const vn=(0,j.Ay)(An.j)`
  &[aria-disabled='true'] {
    ${Xe.mc}
    &:active {
      ${Xe.mc}
    }
  }
  &:hover {
    ${Xe.AD}
  }
  &:active {
    ${Xe.qL}
  }
  ${Xe.Bc}
`,En=t.forwardRef(({variant:e="default",startIcon:a,endIcon:o,disabled:r=!1,children:i,size:c="S",href:l,to:m,...p},h)=>{const f=l?"_blank":void 0,g=l?"noreferrer noopener":void 0,x=c==="S"?2:"10px",D=4;return(0,P.jsxs)(vn,{ref:h,"aria-disabled":r,size:c,variant:e,target:f,rel:g,to:r?void 0:m,href:r?"#":l,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:x,paddingLeft:D,paddingRight:D,paddingTop:x,pointerEvents:r?"none":void 0,...p,as:m&&!r?Se.k2:"a",children:[a&&(0,P.jsx)(M.s,{"aria-hidden":!0,children:a}),(0,P.jsx)(K.o,{variant:c==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:i}),o&&(0,P.jsx)(M.s,{"aria-hidden":!0,children:o})]})});var Mn=n(36481),bn=n(5409),Cn=n.n(bn);const Tn=(0,j.Ay)(T.a)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Rn=()=>t.createElement(M.s,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>t.createElement(Tn,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),On=()=>{const{formatMessage:e}=(0,y.A)();return t.createElement(T.a,{position:"relative"},t.createElement(Rn,null),t.createElement(T.a,{position:"absolute",top:6,width:"100%"},t.createElement(M.s,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(J.I,{as:Mn.A,color:"",width:"160px",height:"88px"}),t.createElement(T.a,{paddingTop:6,paddingBottom:4},t.createElement(T.a,{textAlign:"center"},t.createElement(K.o,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.A)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(T.a,{paddingTop:4},t.createElement(K.o,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.A)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(En,{to:`/marketplace?${Cn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(ce.A,null)},e({id:(0,d.A)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Dn=()=>{const{formatMessage:e}=(0,y.A)(),a=(0,u.AC)(),o=Object.entries(a.getAll());if(!o.length)return t.createElement(On,null);const r=o.sort((i,c)=>i[1].name>c[1].name?1:-1);return t.createElement(ft.r,{tagName:"button"},t.createElement(M.s,{direction:"column",alignItems:"stretch",gap:3},t.createElement(ht.x,{gap:0},r.map(([i,c],l)=>{const{paddingLeft:m,paddingRight:p}=Ut(l);return t.createElement(tt.E,{key:i,col:6,style:{height:"100%"}},t.createElement(T.a,{paddingLeft:m,paddingRight:p,paddingBottom:1,style:{height:"100%"}},t.createElement(yn,{key:i,customFieldUid:i,customField:c})))})),t.createElement(hn.N,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,d.A)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},$t=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:r}=(0,y.A)(),i=(0,d.A)("modalForm.tabs.default"),c=(0,d.A)("modalForm.tabs.custom"),l=a.includes("component")?"component":o,m=(0,d.A)(`modalForm.sub-header.chooseAttribute.${l}`);return t.createElement(It.c,{padding:6},t.createElement(Bt.f,{label:r({id:(0,d.A)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(M.s,{justifyContent:"space-between"},t.createElement(K.o,{variant:"beta",as:"h2"},r({id:m,defaultMessage:"Select a field"})),t.createElement(we.t,null,t.createElement(we.o,null,r({id:i,defaultMessage:"Default"})),t.createElement(we.o,null,r({id:c,defaultMessage:"Custom"})))),t.createElement(T.a,{paddingBottom:6},t.createElement(mt.c,null)),t.createElement(He.T,null,t.createElement(He.K,null,t.createElement(fn,{attributes:e})),t.createElement(He.K,null,t.createElement(Dn,null)))))};$t.propTypes={attributes:s().array.isRequired,forTarget:s().string.isRequired,kind:s().string.isRequired};const Pn=$t;var at=n(43739),st=n(95336);const At=({intlLabel:e,name:a,options:o,onChange:r,value:i})=>{const{formatMessage:c}=(0,y.A)(),l=e.id?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,m=p=>{let h="";p==="true"&&(h=!0),p==="false"&&(h=!1),r({target:{name:a,value:h,type:"select-default-boolean"}})};return t.createElement(at.l,{label:l,id:a,name:a,onChange:m,value:(i===null?"":i).toString()},o.map(({metadatas:{intlLabel:p,disabled:h,hidden:f},key:g,value:x})=>t.createElement(st.c,{key:g,value:x,disabled:h,hidden:f},p.defaultMessage)))};At.defaultProps={value:null},At.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().any};const xn=At;var _t=n(78732);const Ln=(0,j.Ay)(M.s)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,_t.id)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${K.o} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,vt=({intlLabel:e,name:a,onChange:o,radios:r,value:i})=>{const{formatMessage:c}=(0,y.A)();return t.createElement(M.s,{direction:"column",alignItems:"stretch",gap:2},t.createElement(K.o,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},c(e)),t.createElement(Ln,{gap:4,alignItems:"stretch"},r.map(l=>t.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},t.createElement("input",{id:l.value.toString(),name:a,className:"option-input",checked:l.value===i,value:l.value,key:l.value,onChange:o,type:"radio"}),t.createElement(T.a,{className:"option",padding:4},t.createElement(M.s,null,t.createElement(T.a,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(M.s,{direction:"column",alignItems:"stretch",gap:2},t.createElement(K.o,{fontWeight:"bold"},c(l.title)),t.createElement(K.o,{variant:"pi",textColor:"neutral600"},c(l.description)))))))))};vt.defaultProps={radios:[]},vt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,radios:s().arrayOf(s().shape({title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),value:s().any.isRequired})),value:s().oneOfType([s().string,s().bool]).isRequired};const Et=vt,zt=({onChange:e,name:a,...o})=>{const r=i=>{const c=i.target.value!=="false";e({target:{name:a,value:c,type:"boolean-radio-group"}})};return t.createElement(Et,{...o,name:a,onChange:r})};zt.propTypes={name:s().string.isRequired,onChange:s().func.isRequired};const In=zt;var Zt=n(4181),Mt=n(7537),Bn=n(73989);const bt=({error:e,intlLabel:a,modifiedData:o,name:r,onChange:i,value:c})=>{const{formatMessage:l}=(0,y.A)(),[m,p]=(0,t.useState)(!!c||c===0),h=a.id?l({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):r,f=o.type==="biginteger"?"text":"number",g=!o.type,x=e?l({id:e,defaultMessage:e}):"";return t.createElement(M.s,{direction:"column",alignItems:"stretch",gap:2},t.createElement(Zt.S,{id:r,name:r,onValueChange:D=>{i({target:{name:r,value:D?f==="text"?"0":0:null}}),p(_=>!_)},value:m},h),m&&t.createElement(T.a,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?t.createElement(Mt.k,{"aria-label":h,disabled:g,error:x,id:r,name:r,onChange:i,value:c===null?"":c}):t.createElement(Bn.Q,{"aria-label":h,disabled:g,error:x,id:r,name:r,onValueChange:D=>{i({target:{name:r,value:D,type:f}})},value:c||0})))};bt.defaultProps={error:null,value:null},bt.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().string,s().object,s().bool,s().number])};const Sn=bt,kt=({onChange:e,...a})=>{const o=(0,u.hN)(),r=i=>{o({type:"info",message:{id:(0,d.A)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return t.createElement(Et,{...a,onChange:r})};kt.propTypes={onChange:s().func.isRequired};const Fn=kt,Ct=({description:e,disabled:a,intlLabel:o,isCreating:r,name:i,onChange:c,value:l})=>{const{formatMessage:m}=(0,y.A)(),[p,h]=(0,t.useState)(!1),f=o.id?m({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,g=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=()=>h(B=>!B),D=()=>{c({target:{name:i,value:!1}}),x()},C=({target:{checked:B}})=>{if(!B&&!r){x();return}c({target:{name:i,value:B}})};return t.createElement(t.Fragment,null,t.createElement(Zt.S,{checked:l,disabled:a,hint:g,name:i,onChange:C},f),t.createElement(u.TM,{isOpen:p,onToggleDialog:x,onConfirm:D,bodyText:{id:(0,d.A)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,d.A)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Ct.defaultProps={description:null,disabled:!1,value:!1},Ct.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const Nn=Ct,Tt=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:r,isAttributeModal:i,isCustomFieldModal:c,isComponentAttribute:l,isComponentToDzModal:m,isContentTypeModal:p,isCreatingComponent:h,isCreatingComponentAttribute:f,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:x,isCreatingContentType:D,isCreatingDz:C,isComponentModal:B,isDzAttribute:_,isEditingAttribute:R,isEditingCategory:N,isInFirstComponentStep:$,onSubmitAddComponentAttribute:Z,onSubmitAddComponentToDz:ie,onSubmitCreateContentType:Ee,onSubmitCreateComponent:Pe,onSubmitCreateDz:Y,onSubmitEditAttribute:Me,onSubmitEditCategory:re,onSubmitEditComponent:xe,onSubmitEditContentType:pe,onSubmitEditCustomFieldAttribute:ue,onSubmitEditDz:ze,onClickFinish:be})=>{const{formatMessage:se}=(0,y.A)();return m?g?t.createElement(le.$,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),ie(L,!0)},startIcon:t.createElement(ce.A,null)},se({id:(0,d.A)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(le.$,{variant:"default",type:"submit",onClick:L=>{L.preventDefault(),ie(L,!1)}},se({id:"global.finish",defaultMessage:"Finish"})):i&&_&&!C?t.createElement(le.$,{variant:"default",type:"submit",onClick:L=>{L.preventDefault(),be(),ze(L,!1)}},se({id:"global.finish",defaultMessage:"Finish"})):i&&_&&C?t.createElement(t.Fragment,null,t.createElement(le.$,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),Y(L,!0)},startIcon:t.createElement(ce.A,null)},se({id:(0,d.A)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&l?$?t.createElement(le.$,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),Z(L,!0)}},se(f?{id:(0,d.A)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.A)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(le.$,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),Z(L,!0)},startIcon:t.createElement(ce.A,null)},se(x?{id:(0,d.A)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.A)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(le.$,{variant:"default",type:"button",onClick:L=>{L.preventDefault(),be(),Z(L,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):i&&!l&&!_?t.createElement(t.Fragment,null,t.createElement(le.$,{type:R?"button":"submit",variant:"secondary",onClick:L=>{L.preventDefault(),Me(L,!0)},startIcon:t.createElement(ce.A,null)},se({id:(0,d.A)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(le.$,{type:R?"submit":"button",variant:"default",onClick:L=>{L.preventDefault(),be(),Me(L,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):p?t.createElement(t.Fragment,null,!D&&t.createElement(t.Fragment,null,t.createElement(le.$,{type:"button",variant:"danger",onClick:L=>{L.preventDefault(),r()}},se({id:"global.delete",defaultMessage:"Delete"})),t.createElement(le.$,{type:"submit",variant:"default",onClick:L=>{L.preventDefault(),pe(L,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))),D&&t.createElement(le.$,{type:"submit",variant:"secondary",onClick:L=>{L.preventDefault(),Ee(L,!0)}},se({id:"global.continue",defaultMessage:"Continue"}))):B?t.createElement(t.Fragment,null,!h&&t.createElement(t.Fragment,null,t.createElement(le.$,{type:"button",variant:"danger",onClick:L=>{L.preventDefault(),o()}},se({id:"global.delete",defaultMessage:"Delete"})),t.createElement(le.$,{type:"submit",variant:"default",onClick:L=>{L.preventDefault(),xe(L,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))),h&&t.createElement(le.$,{type:"submit",variant:"secondary",onClick:L=>{L.preventDefault(),Pe(L,!0)}},se({id:"global.continue",defaultMessage:"Continue"}))):N?t.createElement(t.Fragment,null,t.createElement(le.$,{type:"button",variant:"danger",onClick:L=>{L.preventDefault(),a(e)}},se({id:"global.delete",defaultMessage:"Delete"})),t.createElement(le.$,{type:"submit",variant:"default",onClick:L=>{L.preventDefault(),re(L)}},se({id:"global.finish",defaultMessage:"finish"}))):c?t.createElement(t.Fragment,null,t.createElement(le.$,{type:R?"button":"submit",variant:"secondary",onClick:L=>{L.preventDefault(),ue(L,!0)},startIcon:t.createElement(ce.A,null)},se({id:(0,d.A)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(le.$,{type:R?"submit":"button",variant:"default",onClick:L=>{L.preventDefault(),be(),ue(L,!1)}},se({id:"global.finish",defaultMessage:"Finish"}))):null};Tt.defaultProps={categoryName:null,onClickFinish(){}},Tt.propTypes={categoryName:s().string,deleteCategory:s().func.isRequired,deleteComponent:s().func.isRequired,deleteContentType:s().func.isRequired,isAttributeModal:s().bool.isRequired,isCustomFieldModal:s().bool.isRequired,isComponentAttribute:s().bool.isRequired,isComponentModal:s().bool.isRequired,isComponentToDzModal:s().bool.isRequired,isContentTypeModal:s().bool.isRequired,isCreatingComponent:s().bool.isRequired,isCreatingComponentAttribute:s().bool.isRequired,isCreatingComponentInDz:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,isCreatingContentType:s().bool.isRequired,isCreatingDz:s().bool.isRequired,isDzAttribute:s().bool.isRequired,isEditingAttribute:s().bool.isRequired,isEditingCategory:s().bool.isRequired,isInFirstComponentStep:s().bool.isRequired,onSubmitAddComponentAttribute:s().func.isRequired,onSubmitAddComponentToDz:s().func.isRequired,onSubmitCreateContentType:s().func.isRequired,onSubmitCreateComponent:s().func.isRequired,onSubmitCreateDz:s().func.isRequired,onSubmitEditAttribute:s().func.isRequired,onSubmitEditCategory:s().func.isRequired,onSubmitEditComponent:s().func.isRequired,onSubmitEditContentType:s().func.isRequired,onSubmitEditCustomFieldAttribute:s().func.isRequired,onSubmitEditDz:s().func.isRequired,onClickFinish:s().func};const Wn=Tt;var Vt=n(99248),Un=n(37679),ds=n(60043),us=n(46270);const jn=({actionType:e,attributeName:a,attributeType:o,categoryName:r,contentTypeKind:i,dynamicZoneTarget:c,forTarget:l,modalType:m,targetUid:p,customFieldUid:h,showBackLink:f})=>{const{formatMessage:g}=(0,y.A)(),{modifiedData:x}=(0,he.A)(),{onOpenModalAddField:D}=(0,Ne.A)();let C,B=[];const _=x?.[l]?.[p]||x?.[l]||null;let R=_?.schema.displayName;if(m==="contentType"&&(C=i),["component","editCategory"].includes(m)&&(C="component"),["component","contentType"].includes(m)){let $=(0,d.A)(`modalForm.component.header-${e}`);return m==="contentType"&&($=(0,d.A)(`modalForm.${i}.header-create`)),e==="edit"&&($=(0,d.A)("modalForm.header-edit")),t.createElement(Vt.r,null,t.createElement(M.s,null,t.createElement(T.a,null,t.createElement(nt.A,{type:C})),t.createElement(T.a,{paddingLeft:3},t.createElement(K.o,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:$},{name:R})))))}return B=[{label:R,info:{category:_?.category||null,name:_?.schema.displayName}}],m==="chooseAttribute"&&(C=["component","components"].includes(l)?"component":_.schema.kind),m==="addComponentToDynamicZone"&&(C="dynamiczone",B.push({label:c})),(m==="attribute"||m==="customField")&&(C=o,B.push({label:a})),m==="editCategory"&&(B=[{label:g({id:(0,d.A)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]),t.createElement(Vt.r,null,t.createElement(M.s,{gap:3},f&&t.createElement(u.N_,{"aria-label":g({id:(0,d.A)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:t.createElement(us.A,null),onClick:()=>D({forTarget:l,targetUid:p}),to:"#back"}),t.createElement(nt.A,{type:C,customField:h}),t.createElement(Un.B,{label:B.map(({label:$})=>$).join(",")},B.map(({label:$,info:Z},ie,Ee)=>{if($=Ce()($),!$)return null;const Pe=`${$}.${ie}`;return Z?.category&&($=`${$} (${Ce()(Z.category)} - ${Ce()(Z.name)})`),t.createElement(ds.m,{isCurrent:ie===Ee.length-1,key:Pe},$)}))))};jn.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},jn.propTypes={actionType:s().string,attributeName:s().string,attributeType:s().string,categoryName:s().string,contentTypeKind:s().string,dynamicZoneTarget:s().string,forTarget:s().oneOf(["contentType","component","components"]),modalType:s().string.isRequired,targetUid:s().string,customFieldUid:s().string,showBackLink:s().bool};const ms=jn,ps=({modalType:e,forTarget:a,kind:o,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return(0,d.A)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,d.A)(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return(0,d.A)(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return(0,d.A)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.A)("configurations")}},Kn=({actionType:e,modalType:a,forTarget:o,kind:r,step:i,attributeType:c,attributeName:l,customField:m})=>{const{formatMessage:p}=(0,y.A)(),h=a==="customField"?m.intlLabel:{id:(0,d.A)(`attribute.${c}`)};return t.createElement(M.s,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(K.o,{as:"h2",variant:"beta"},p({id:ps({actionType:e,forTarget:o,kind:r,step:i,modalType:a}),defaultMessage:"Add new field"},{type:Ce()(p(h)),name:Ce()(l),step:i})),t.createElement(K.o,{variant:"pi",textColor:"neutral600"},p({id:(0,d.A)(`attribute.${c}.description`),defaultMessage:"A type for modeling data"})))};Kn.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Kn.propTypes={actionType:s().string,modalType:s().string,forTarget:s().string,kind:s().string,step:s().string,attributeType:s().string,attributeName:s().string,customField:s().object};const gs=Kn;var fs=n(7153),hs=n(8361),ys=n(98765),As=n(74447),vs=n(7297),Ra=n(88353),Es=n(79739),Ms=n(60678),bs=n(50612),Oa=n(45492);const Cs=(0,j.Ay)(M.s)`
  label {
    ${_t.id}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Da=({iconKey:e,name:a,onChange:o,isSelected:r,ariaLabel:i})=>t.createElement(fs.D,{name:a,required:!1},t.createElement(hs.d,{htmlFor:e,id:`${e}-label`},t.createElement(ys.s,null,t.createElement(As.T,{type:"radio",id:e,name:a,checked:r,onChange:o,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),i),t.createElement(M.s,{padding:2,cursor:"pointer",hasRadius:!0,background:r&&"primary200"},t.createElement(J.I,{as:Oa.z[e],color:r?"primary600":"neutral300"}))));Da.propTypes={iconKey:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,isSelected:s().bool.isRequired,ariaLabel:s().string.isRequired};const $n=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,y.A)(),[c,l]=(0,t.useState)(!1),[m,p]=(0,t.useState)(""),h=Object.keys(Oa.z),[f,g]=(0,t.useState)(h),x=(0,t.useRef)(null),D=(0,t.useRef)(null),C=()=>{l(!c)},B=({target:{value:N}})=>{p(N),g(()=>h.filter($=>$.toLowerCase().includes(N.toLowerCase())))},_=()=>{C(),p(""),g(h)},R=()=>{o({target:{name:a,value:""}})};return(0,t.useEffect)(()=>{c&&D.current.focus()},[c]),t.createElement(t.Fragment,null,t.createElement(M.s,{justifyContent:"space-between",paddingBottom:2},t.createElement(K.o,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},i(e)),t.createElement(M.s,{gap:1},c?t.createElement(vs.S,{ref:D,name:"searchbar",size:"S",placeholder:i({id:(0,d.A)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{m||C()},onChange:B,value:m,onClear:_,clearLabel:i({id:(0,d.A)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},i({id:(0,d.A)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):t.createElement(Ra.K,{ref:x,onClick:C,"aria-label":i({id:(0,d.A)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:t.createElement(Ms.A,null),noBorder:!0}),r&&t.createElement(Es.m,{description:i({id:(0,d.A)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},t.createElement(Ra.K,{onClick:R,"aria-label":i({id:(0,d.A)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:t.createElement(bs.A,null),noBorder:!0})))),t.createElement(Cs,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},f.length>0?f.map(N=>t.createElement(Da,{key:N,iconKey:N,name:a,onChange:o,isSelected:N===r,ariaLabel:i({id:(0,d.A)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:N})})):t.createElement(T.a,{padding:4,grow:2},t.createElement(K.o,{variant:"delta",textColor:"neutral600",textAlign:"center"},i({id:(0,d.A)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};$n.defaultProps={value:""},$n.propTypes={intlLabel:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Ts=$n;var Rs=n(21835),_n=n.n(Rs),Pa=n(3037);const zn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:c,value:l})=>{const{formatMessage:m}=(0,y.A)(),p=(0,t.useRef)(c),h=r?.displayName||"";(0,t.useEffect)(()=>{if(h){const D=(0,Pa.A)(h);try{const C=_n()(D,2);p.current({target:{name:i,value:C}})}catch{p.current({target:{name:i,value:D}})}}else p.current({target:{name:i,value:""}})},[h,i]);const f=a?m({id:a,defaultMessage:a}):"",g=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=m(o);return t.createElement(Mt.k,{error:f,label:x,id:i,hint:g,name:i,onChange:c,value:l||""})};zn.defaultProps={description:null,error:null,value:null},zn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Os=zn;var Zn=n(28314),wt=n(56936),de=n(31340);const kn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:r}=(0,he.A)(),i=(0,_e.wA)(),c=r.filter(Ft),{plugin:l=null,schema:{displayName:m}={displayName:"error"}}=o?.[a]??{},p=({uid:h,plugin:f,title:g,restrictRelationsTo:x})=>()=>{const D=f?`${f}_${g}`:g;i({type:de.UI,target:{value:h,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:D,targetContentTypeAllowedRelations:x}})};return t.createElement(wt.bL,null,t.createElement(Ds,null,`${m} ${l?`(from: ${l})`:""}`),t.createElement(wt.UC,{zIndex:5},c.map(({uid:h,title:f,restrictRelationsTo:g,plugin:x})=>t.createElement(wt.q7,{key:h,onSelect:p({uid:h,plugin:x,title:f,restrictRelationsTo:g})},f,"\xA0",x&&t.createElement(t.Fragment,null,"(from: ",x,")")))))};kn.defaultProps={target:null},kn.propTypes={oneThatIsCreatingARelationWithAnother:s().string.isRequired,target:s().string};const Ds=(0,j.Ay)(wt.l9)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,Ps=kn,Vn=({disabled:e,error:a,header:o,isMain:r,name:i,onChange:c,oneThatIsCreatingARelationWithAnother:l,target:m,value:p})=>t.createElement(T.a,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(M.s,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center"},r?t.createElement(K.o,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):t.createElement(Ps,{target:m,oneThatIsCreatingARelationWithAnother:l})),t.createElement(mt.c,{background:"neutral200"}),t.createElement(T.a,{padding:4},t.createElement(u.ah,{disabled:e,error:a?.id||null,intlLabel:{id:(0,d.A)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:c,type:"text",value:p})));Vn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Vn.propTypes={disabled:s().bool,error:s().object,header:s().string,isMain:s().bool,name:s().string.isRequired,onChange:s().func,oneThatIsCreatingARelationWithAnother:s().string,target:s().string,value:s().string};const xa=Vn;var xs=n(30899),Ls=n(82431),Is=n(78580),Bs=n(47684),Ss=n(57549),Fs=n(39783),Ns=n(35336),La=n.n(Ns);const Ws=(0,j.Ay)(T.a)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Us=(0,j.Ay)(T.a)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,js=(0,j.Ay)(M.s)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Ks={oneWay:xs.A,oneToOne:Ls.A,oneToMany:Is.A,manyToOne:Bs.A,manyToMany:Ss.A,manyWay:Fs.A},wn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:r})=>{const i=(0,_e.wA)(),{formatMessage:c}=(0,y.A)(),{contentTypes:l,modifiedData:m}=(0,he.A)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],h=["oneWay","manyWay"],g=(e==="contentType"?F()(m,[e,"schema","kind"],""):e)==="collectionType"?p:h,x=o==="manyToOne",D=F()(l,[r,"schema","displayName"],"unknown"),C=x?D:a,B=x?a:D,_=_n()(C,o==="manyToMany"?2:1),R=F()(l,[r,"schema","restrictRelationsTo"],null),N=_n()(B,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?t.createElement(M.s,{style:{flex:1}},t.createElement(Ws,null,t.createElement(M.s,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(ft.r,{tagName:"button"},t.createElement(M.s,{gap:3},g.map($=>{const Z=Ks[$],ie=R===null||R.includes($);return t.createElement(Us,{as:"button",isSelected:o===$,disabled:!ie,key:$,onClick:()=>{ie&&i({type:de.dX,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:r,value:$}})},padding:2,type:"button"},t.createElement(Z,{key:$}))}))))),t.createElement(js,{justifyContent:"center"},t.createElement(K.o,null,La()(_,{length:24}),"\xA0"),t.createElement(K.o,{textColor:"primary600"},c({id:(0,d.A)(`relation.${o}`)}),"\xA0"),t.createElement(K.o,null,La()(N,{length:24})))):null};wn.defaultProps={relationType:null,target:null},wn.propTypes={naturePickerType:s().string.isRequired,oneThatIsCreatingARelationWithAnother:s().string.isRequired,relationType:s().string,target:s().string};const $s=wn,Ia=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:r,onChange:i})=>{const c=(0,Zn.A)(o.relation,o.targetAttribute);return t.createElement(M.s,{style:{position:"relative"}},t.createElement(xa,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:i,value:o?.name||""}),t.createElement($s,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:a,relationType:c,target:o.target}),t.createElement(xa,{disabled:["oneWay","manyWay"].includes(c),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};Ia.propTypes={formErrors:s().object.isRequired,mainBoxHeader:s().string.isRequired,modifiedData:s().object.isRequired,naturePickerType:s().string.isRequired,onChange:s().func.isRequired};const _s=Ia;var zs=n(76517),Zs=n(80782);const Hn=({error:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:c}=(0,y.A)(),{allComponentsCategories:l}=(0,he.A)(),[m,p]=(0,t.useState)(l),h=e?c({id:e,defaultMessage:e}):"",f=c(a),g=D=>{r({target:{name:o,value:D,type:"select-category"}})},x=D=>{p(C=>[...C,D]),g(D)};return t.createElement(zs.nP,{error:h,id:o,label:f,name:o,onChange:g,onCreateOption:x,value:i},m.map(D=>t.createElement(Zs.j,{key:D,value:D},D)))};Hn.defaultProps={error:null,value:null},Hn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const ks=Hn,Yn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:c,name:l,onChange:m,targetUid:p,forTarget:h,value:f})=>{const{formatMessage:g}=(0,y.A)(),x=e?g({id:e,defaultMessage:e}):"",D=g(a),{componentsGroupedByCategory:C,componentsThatHaveOtherComponentInTheirAttributes:B}=(0,he.A)(),_=["component","components"].includes(h);let R=Object.entries(C).reduce((N,$)=>{const[Z,ie]=$,Ee=ie.map(Pe=>({uid:Pe.uid,label:Pe.schema.displayName,categoryName:Z}));return[...N,...Ee]},[]);return o&&(R=R.filter(N=>!B.includes(N.uid))),_&&(R=R.filter(N=>N.uid!==p)),i&&(R=[{uid:f,label:c.displayName,categoryName:c.category}]),t.createElement(at.l,{disabled:i||!r,error:x,label:D,id:l,name:l,onChange:N=>{m({target:{name:l,value:N,type:"select-category"}})},value:f||""},R.map(N=>t.createElement(st.c,{key:N.uid,value:N.uid},`${N.categoryName} - ${N.label}`)))};Yn.defaultProps={componentToCreate:null,error:null},Yn.propTypes={componentToCreate:s().object,forTarget:s().string.isRequired,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isAddingAComponentToAnotherComponent:s().bool.isRequired,isCreating:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,targetUid:s().string.isRequired,value:s().string.isRequired};const Vs=Yn,Ba=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:c}=(0,y.A)(),{componentsGroupedByCategory:l,modifiedData:m}=(0,he.A)(),h=(pt(m.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(l).reduce((D,C)=>{const B=l[C].filter(({uid:_})=>!h.includes(_));return B.length>0&&(D[C]=B),D},{}),g=Object.entries(f).reduce((D,C)=>{const[B,_]=C,R={label:B,children:_.map(({uid:N,schema:{displayName:$}})=>({label:$,value:N}))};return D.push(R),D},[]),x=c({id:(0,d.A)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return t.createElement(Nt.B,{id:"select1",label:c(a),customizeContent:()=>x,name:o,onChange:D=>{r({target:{name:o,value:D,type:"select-components"}})},options:g,value:i||[]})};Ba.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,dynamicZoneTarget:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().array.isRequired};const ws=Ba,Gn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:c,value:l})=>{const{formatMessage:m}=(0,y.A)(),p=m(e),h=a?m({id:a,defaultMessage:a}):"",f=g=>{i({target:{name:r,value:g,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}})};return t.createElement(at.l,{error:h,label:p,id:r,name:r,onChange:f,value:l||""},c.map(({metadatas:{intlLabel:g,disabled:x,hidden:D},key:C,value:B})=>t.createElement(st.c,{key:C,value:B,disabled:x,hidden:D},m({id:g.id,defaultMessage:g.defaultMessage},g.values))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const Hs=Gn,qn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:c,value:l})=>{const{formatMessage:m}=(0,y.A)(),p=m(e),h=a?m({id:a,defaultMessage:a}):"",f=g=>{i({target:{name:r,value:g,type:"select"}}),l&&(g==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(g)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})))};return t.createElement(at.l,{error:h,label:p,id:r,name:r,onChange:f,value:l||""},c.map(({metadatas:{intlLabel:g,disabled:x,hidden:D},key:C,value:B})=>t.createElement(st.c,{key:C,value:B,disabled:x,hidden:D},m(g))))};qn.defaultProps={error:void 0,value:""},qn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const Ys=qn,Xn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:c,value:l})=>{const{formatMessage:m}=(0,y.A)(),p=(0,t.useRef)(c),h=r?.displayName||"";(0,t.useEffect)(()=>{h?p.current({target:{name:i,value:(0,Pa.A)(h)}}):p.current({target:{name:i,value:""}})},[h,i]);const f=a?m({id:a,defaultMessage:a}):"",g=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=m(o);return t.createElement(Mt.k,{error:f,label:x,id:i,hint:g,name:i,onChange:c,value:l||""})};Xn.defaultProps={description:null,error:null,value:null},Xn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Gs=Xn,Sa=({form:e,formErrors:a,genericInputProps:o,modifiedData:r,onChange:i})=>{const{formatMessage:c}=(0,y.A)();return e.map((l,m)=>l.items.length===0?null:t.createElement(T.a,{key:m},l.sectionTitle&&t.createElement(T.a,{paddingBottom:4},t.createElement(K.o,{variant:"delta",as:"h3"},c(l.sectionTitle))),t.createElement(ht.x,{gap:4},l.items.map((p,h)=>{const f=`${m}.${h}`,g=F()(r,p.name,""),x=Object.keys(a).find(C=>C===p.name),D=x?a[x].id:F()(a,[...p.name.split(".").filter(C=>C!=="componentToCreate"),"id"],null);return p.type==="pushRight"?t.createElement(tt.E,{col:p.size||6,key:p.name||f},t.createElement("div",null)):t.createElement(tt.E,{col:p.size||6,key:p.name||f},t.createElement(u.ah,{...p,...o,error:D,onChange:i,value:g}))}))))};Sa.propTypes={form:s().arrayOf(s().object).isRequired,formErrors:s().object.isRequired,genericInputProps:s().object.isRequired,modifiedData:s().object.isRequired,onChange:s().func.isRequired};const Fa=Sa;var qs=n(5287);const Jn=({description:e,disabled:a,error:o,intlLabel:r,labelAction:i,name:c,onChange:l,placeholder:m,value:p})=>{const{formatMessage:h}=(0,y.A)(),f=o?h({id:o,defaultMessage:o}):"",g=e?h({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=h(r),D=m?h({id:m.id,defaultMessage:m.defaultMessage},{...m.values}):"",C=Array.isArray(p)?p.join(`
`):"",B=_=>{const R=_.target.value.split(`
`);l({target:{name:c,value:R}})};return t.createElement(qs.T,{disabled:a,error:f,label:x,labelAction:i,id:c,hint:g,name:c,onChange:B,placeholder:D,value:C},C)};Jn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Jn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,labelAction:s().element,name:s().string.isRequired,onChange:s().func.isRequired,placeholder:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),value:s().oneOfType([s().array,s().string])};const Xs=Jn,Ke={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.A)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Js={sections:[{sectionTitle:null,items:[Ke]}]},Qn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.A)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.A)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.A)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.A)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]};var b=n(12083);const Na=/^[A-Za-z][-_0-9A-Za-z]*$/,Qs=e=>{const a={name:b.Yj().matches(Na,u.iW.regex).test({name:"nameNotAllowed",message:u.iW.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(u.iW.required)};return b.Ik(a)},eo={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.A)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}};var ot=n(94525);const to=(e,a,o)=>{const r={displayName:b.Yj().test({name:"nameAlreadyUsed",message:u.iW.unique,test(i){if(!i)return!1;const c=(0,ot.A)(i,o);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,d.A)("error.contentTypeName.reserved-name"),test(i){return i?!a.includes(i?.trim()?.toLowerCase()):!1}}).required(u.iW.required),category:b.Yj().matches(Na,u.iW.regex).required(u.iW.required),icon:b.Yj()};return b.Ik(r)},it={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.A)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.A)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,d.A)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},I={default:{name:"default",type:"text",intlLabel:{id:(0,d.A)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.A)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.A)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.A)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.A)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.A)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.A)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.A)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.A)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.A)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.A)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.A)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.A)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Wa={advanced:{blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.A)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},component({repeatable:e},a){return a==="1"?{sections:it.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private,I.max,I.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...I.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.max,I.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...I.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.maxLength,I.minLength,I.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.A)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,d.A)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.A)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.A)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,d.A)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.max,I.min,I.private]}]}},password(){return{sections:[{sectionTitle:null,items:[I.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[I.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}},text(){return{sections:[{sectionTitle:null,items:[I.default,I.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.maxLength,I.minLength,I.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...I.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}}},base:{component(e,a){if(a==="1"){const o=e.createComponent===!0?it.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Qn]},...o]}}return{sections:[{sectionTitle:null,items:[Ke,{name:"component",type:"select-component",intlLabel:{id:(0,d.A)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.A)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.A)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.A)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.A)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ke,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.A)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.A)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.A)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ke]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.A)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.A)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ke]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.A)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.A)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.A)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.A)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ke,{intlLabel:{id:(0,d.A)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.A)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.A)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.A)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.A)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ke]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.A)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.A)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.A)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.A)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ke]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.A)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.A)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.A)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.A)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const r=o.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...Ke,placeholder:{id:(0,d.A)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,d.A)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}}};var no=n(71547),ao=n.n(no),so=n(17024),oo=n.n(so);const ea=e=>oo()(e,{decamelize:!1,lowercase:!1,separator:"_"});var io=n(71210),ta=n.n(io);const Ua=/^[A-Za-z][_0-9A-Za-z]*$/,ja=e=>({name:"attributeNameAlreadyUsed",message:u.iW.unique,test(a){return a?!e.includes(a):!1}}),Ri=(e,a,o)=>{const r=e?.schema?.attributes??{};return Object.keys(r).filter(i=>a?i!==o:!0)},na=e=>({name:"forbiddenAttributeName",message:(0,d.A)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),v={default:()=>b.Yj().nullable(),max:()=>b.ai().integer().nullable(),min:()=>b.ai().integer().when("max",(e,a)=>e?a.max(e,(0,d.A)("error.validation.minSupMax")):a).nullable(),maxLength:()=>b.ai().integer().positive((0,d.A)("error.validation.positive")).nullable(),minLength:()=>b.ai().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,d.A)("error.validation.minSupMax")):a).nullable(),name(e,a){return b.Yj().test(ja(e)).test(na(a)).matches(Ua,u.iW.regex).required(u.iW.required)},required:()=>b.zM(),type:()=>b.Yj().required(u.iW.required),unique:()=>b.zM().nullable()},aa=(e,a)=>({name:v.name(e,a),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength(),regex:b.Yj().test({name:"isValidRegExpPattern",message:(0,d.A)("error.validation.regex"),test(r){return new RegExp(r)!==null}}).nullable()}),sa={name:"isMinSuperiorThanMax",message:(0,d.A)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(ta()(e))?!0:ta()(a)>=ta()(e)}},oa={date(e,a){const o={name:v.name(e,a),type:v.type()};return b.Ik(o)},datetime(e,a){const o={name:v.name(e,a),type:v.type()};return b.Ik(o)},time(e,a){const o={name:v.name(e,a),type:v.type()};return b.Ik(o)},default(e,a){const o={name:v.name(e,a),type:v.type()};return b.Ik(o)},biginteger(e,a){const o={name:v.name(e,a),type:v.type(),default:b.Yj().nullable().matches(/^-?\d*$/),unique:v.unique(),required:v.required(),max:b.Yj().nullable().matches(/^-?\d*$/,u.iW.regex),min:b.Yj().nullable().test(sa).matches(/^-?\d*$/,u.iW.regex)};return b.Ik(o)},boolean(e,a){const o={name:v.name(e,a),default:b.zM().nullable(),required:v.required(),unique:v.unique()};return b.Ik(o)},component(e,a){const o={name:v.name(e,a),type:v.type(),required:v.required(),max:v.max(),min:v.min(),component:b.Yj().required(u.iW.required)};return b.Ik(o)},decimal(e,a){const o={name:v.name(e,a),type:v.type(),default:b.ai(),required:v.required(),max:b.ai(),min:b.ai().test(sa)};return b.Ik(o)},dynamiczone(e,a){const o={name:v.name(e,a),type:v.type(),required:v.required(),max:v.max(),min:v.min()};return b.Ik(o)},email(e,a){const o={name:v.name(e,a),type:v.type(),default:b.Yj().email().nullable(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return b.Ik(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:b.Yj().test(ja(e)).test(na(a)).matches(o,u.iW.regex).required(u.iW.required),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),enum:b.YO().of(b.Yj()).min(1,u.iW.min).test({name:"areEnumValuesUnique",message:(0,d.A)("error.validation.enum-duplicate"),test(i){return!ao()(i.map(ea).filter((l,m,p)=>p.indexOf(l)!==m)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.A)("error.validation.enum-empty-string"),test:i=>!i.map(ea).some(c=>c==="")}).test({name:"doesMatchRegex",message:(0,d.A)("error.validation.enum-regex"),test:i=>i.map(ea).every(c=>o.test(c))}),enumName:b.Yj().nullable()};return b.Ik(r)},float(e,a){const o={name:v.name(e,a),type:v.type(),required:v.required(),default:b.ai(),max:b.ai(),min:b.ai().test(sa)};return b.Ik(o)},integer(e,a){const o={name:v.name(e,a),type:v.type(),default:b.ai().integer(),unique:v.unique(),required:v.required(),max:v.max(),min:v.min()};return b.Ik(o)},json(e,a){const o={name:v.name(e,a),type:v.type(),required:v.required(),unique:v.unique()};return b.Ik(o)},media(e,a){const o={name:v.name(e,a),type:v.type(),multiple:b.zM(),required:v.required(),allowedTypes:b.YO().of(b.Yj().oneOf(["images","videos","files","audios"])).min(1).nullable()};return b.Ik(o)},password(e,a){const o={name:v.name(e,a),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return b.Ik(o)},relation(e,a,o,{initialData:r,modifiedData:i}){const c={name:v.name(e,a),target:b.Yj().required(u.iW.required),relation:b.Yj().required(),type:b.Yj().required(),targetAttribute:b.RZ(()=>{const l=(0,Zn.A)(i.relation,i.targetAttribute);if(l==="oneWay"||l==="manyWay")return b.Yj().nullable();let m=b.Yj().test(na(a)),h=[...o.map(({name:f})=>f),i.name].filter(f=>f!==r.targetAttribute);return m.matches(Ua,u.iW.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.A)("error.validation.relation.targetAttribute-taken"),test(f){return f?!h.includes(f):!1}}).required(u.iW.required)})};return b.Ik(c)},richtext(e,a){const o={name:v.name(e,a),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return b.Ik(o)},blocks(e,a){const o={name:v.name(e,a),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return b.Ik(o)},string(e,a){const o=aa(e,a);return b.Ik(o)},text(e,a){const o=aa(e,a);return b.Ik(o)},uid(e,a){const o=aa(e,a);return b.Ik(o)}},ro=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:r=[],collectionNames:i=[]})=>{const c={displayName:b.Yj().test({name:"nameAlreadyUsed",message:u.iW.unique,test(l){if(!l)return!1;const m=(0,ot.X)(l);return!e.includes(m)}}).test({name:"nameNotAllowed",message:(0,d.A)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(u.iW.required),pluralName:b.Yj().test({name:"pluralNameAlreadyUsed",message:u.iW.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,d.A)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.A)("error.contentType.pluralName-used"),test(l,m){return l?m.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,d.A)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,d.A)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!i.includes(l?.trim()?.toLowerCase()):!1}}).required(u.iW.required),singularName:b.Yj().test({name:"singularNameAlreadyUsed",message:u.iW.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,d.A)("error.contentType.singularName-equals-pluralName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.A)("error.contentType.singularName-used"),test(l,m){return l?m.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,d.A)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(u.iW.required),draftAndPublish:b.zM(),kind:b.Yj().oneOf(["singleType","collectionType"]),reviewWorkflows:b.zM()};return b.Ik(c)},Ka={name:"displayName",type:"text",intlLabel:{id:(0,d.A)("contentType.displayName.label"),defaultMessage:"Display name"}},ia={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,d.A)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,d.A)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Ka,{description:{id:(0,d.A)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.A)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.A)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.A)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Ka,{disabled:!0,description:{id:(0,d.A)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.A)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.A)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.A)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.A)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.A)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.A)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.A)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},ra={advanced:{default(){return{sections:it.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Qn]},...it.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Qn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.A)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},$a=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},_a=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),Ye={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:r,schemaData:i,ctbFormsAPI:c}){const l=_a(e,i),m=oa[a](l,r.attributes);return c.makeCustomFieldValidator(m,o,l,r.attributes,i)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[Ke]}];return e.options?.base&&$a(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:r,...i}){const c=[{sectionTitle:null,items:[]}],l=r.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...i});if(e.options?.advanced&&$a(e.options.advanced,c),l){const m={sectionTitle:{id:(0,d.A)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};c.push(m)}return{sections:c}}}},attribute:{schema(e,a,o,r,i,c){const l=e?.schema?.attributes??[],m=_a(l,i);try{let p=oa[a](m,o.attributes,r,i);return c.makeValidator(["attribute",a],p,m,o.attributes,r,i)}catch(p){return console.error("Error yup build schema",p),oa.default(m,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:r,...i}){try{const c=Wa.advanced[a](e,o).sections,l=r.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...i});return{sections:c.reduce((p,h)=>(h.sectionTitle===null?p.push(h):p.push({...h,items:[...h.items,...l]}),p),[])}}catch(c){return console.error(c),{sections:[]}}},base({data:e,type:a,step:o,attributes:r}){try{return Wa.base[a](e,o,r)}catch{return Js}}}},contentType:{schema(e,a,o,r,i,c){const l=Object.values(c).map(C=>C.schema.singularName),m=Object.values(c).map(C=>C?.schema?.pluralName??""),p=a?e.filter(C=>C!==o):e,h=a?l.filter(C=>{const{schema:B}=c[o];return B.singularName!==C}):l,f=a?m.filter(C=>{const{schema:B}=c[o];return B.pluralName!==C}):m,g=Object.values(c).map(C=>C?.schema?.collectionName??""),x=a?g.filter(C=>{const{schema:B}=c[o],_=B.pluralName,R=B.collectionName;return C!==_||C!==R}):g,D=ro({usedContentTypeNames:p,reservedModels:r.models,singularNames:h,pluralNames:f,collectionNames:x});return i.makeValidator(["contentType"],D,p,r.models,h,f)},form:{base({actionType:e}){return e==="create"?ia.base.create():ia.base.edit()},advanced({extensions:e}){const a=ia.advanced.default().sections.map(r=>r.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,r=!1,i=null){const c=r?e.filter(l=>l!==i):e;return to(c,o.models,a)},form:{advanced(){return{sections:it.advanced()}},base(){return{sections:it.base()}}}},addComponentToDynamicZone:{form:{advanced(){return ra.advanced.default()},base({data:e}){return e?.createComponent??!1?ra.base.createComponent():ra.base.default()}}},editCategory:{schema(e,a){const o=e.filter(r=>r!==a.name).map(r=>r.toLowerCase());return Qs(o)},form:{advanced:()=>({sections:[]}),base(){return eo.base}}}};var za=n(26924),lo=n(52691);const co=()=>e=>e[`${w.A}_formModal`]||lo.u,uo=()=>(0,za.Mz)(co(),e=>e),mo=(e,a)=>{const o=F()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:F()(e,["contentType","schema","attributes"],[]).filter(({relation:c,type:l,targetAttribute:m})=>{const p=(0,Zn.A)(c,m);return l==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},po=(e="",a,o)=>{const r=["text","email","richtext","password","blocks","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",c=o.includes(a),l=!i&&!c;return i?[[...r,"uid"],["component","dynamiczone"]]:l?[r,["component"]]:[r]},Za=e=>e.reduce((a,o)=>{const r=o.items.reduce((i,c)=>(c.name&&i.push(c.name),i),[]);return[...a,...r]},[]),ka=(0,j.Ay)(sn.F)`
  button {
    display: none;
  }
`,go=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:c,attributeType:l,customFieldUid:m,categoryName:p,dynamicZoneTarget:h,forTarget:f,modalType:g,isOpen:x,showBackLink:D,kind:C,step:B,targetUid:_}=(0,Ne.A)(),R=(0,u.AC)().get(m),N=(0,t.useRef)(),$=(0,t.useMemo)(uo,[]),Z=(0,_e.wA)(),ie=(0,u.hN)(),Ee=(0,_e.d4)(X=>$(X),_e.bN),{push:Pe}=(0,z.W6)(),{trackUsage:Y}=(0,u.z1)(),{formatMessage:Me}=(0,y.A)(),{getPlugin:re}=(0,u.vD)(),pe=re(w.A).apis.forms,ue=pe.components.inputs,{addAttribute:ze,addCustomFieldAttribute:be,addCreatedComponentToDynamicZone:se,allComponentsCategories:L,changeDynamicZoneComponents:ca,contentTypes:rt,components:Ot,createSchema:lt,deleteCategory:da,deleteData:Yt,editCategory:ua,editCustomFieldAttribute:ma,submitData:pa,modifiedData:Te,nestedComponents:ga,setModifiedData:fa,sortedContentTypesList:ha,updateSchema:Gt,reservedNames:Ge}=(0,he.A)(),{componentToCreate:Dt,formErrors:Ze,initialData:ye,isCreatingComponentWhileAddingAField:Pt,modifiedData:A}=Ee,S=f==="contentType"||f==="component"?[f]:[f,_];(0,t.useEffect)(()=>{if(x){const X=ha.filter(Ft);g==="editCategory"&&fa(),i==="edit"&&g==="attribute"&&f==="contentType"&&Y("willEditFieldOfContentType");const Ie=[...S,"schema","attributes"],Ue=pt(F()(Te,Ie,[]),h)||null;if(g==="editCategory"&&i==="edit"&&Z({type:de.jN,modalType:g,actionType:i,data:{name:p}}),g==="contentType"&&i==="create"&&Z({type:de.jN,modalType:g,actionType:i,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&i==="edit"){const{displayName:Q,draftAndPublish:Ae,kind:je,pluginOptions:Oe,pluralName:ri,reviewWorkflows:li,singularName:ci}=F()(Te,[...S,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});Z({type:de.jN,actionType:i,modalType:g,data:{displayName:Q,draftAndPublish:Ae,kind:je,pluginOptions:Oe,pluralName:ri,reviewWorkflows:li??!1,singularName:ci}})}if(g==="component"&&i==="edit"){const Q=F()(Te,S,{});Z({type:de.jN,actionType:i,modalType:g,data:{displayName:Q.schema.displayName,category:Q.category,icon:Q.schema.icon}})}if(g==="addComponentToDynamicZone"&&i==="edit"){const Q={...Ue,components:[],name:h,createComponent:!1,componentToCreate:{type:"component"}};Z({type:de.Tb,attributeToEdit:Q})}if(l){const Ae={...pt(F()(Te,Ie,[]),c),name:c};l==="component"&&i==="edit"&&(Ae.repeatable||Lt()(Ae,"repeatable",!1)),Z(g==="customField"?{type:de.t_,customField:R,isEditing:i==="edit",modifiedDataToSetForEditing:Ae,forTarget:f}:{type:de.LV,attributeType:l,nameToSetForRelation:F()(X,["0","title"],"error"),targetUid:F()(X,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:Ae,step:B,forTarget:f})}}else Z({type:de.BO})},[i,c,l,p,h,f,x,g]);const G=g==="contentType",fe=g==="component",Re=g==="attribute",Le=g==="customField",ke=l==="component"&&Re,Je=i==="create",qe=F()(A,"createComponent",!1)||Pt,ct=B==="1",ns=g==="editCategory",as=g==="chooseAttribute",ya=(0,ot.X)(A.displayName||""),Aa=F()(Te,[...S,"schema","attributes"],null),Ho=async()=>{let X;const Ie=qe&&B==="1"?F()(A,"componentToCreate",{}):A;if(G)X=Ye.contentType.schema(Object.keys(rt),i==="edit",F()(Te,[...S,"uid"],null),Ge,pe,rt);else if(fe)X=Ye.component.schema(Object.keys(Ot),A.category||"",Ge,i==="edit",F()(Te,[...S,"uid"],null),pe);else if(Le)X=Ye.customField.schema({schemaAttributes:F()(Te,[...S,"schema","attributes"],[]),attributeType:R.type,reservedNames:Ge,schemaData:{modifiedData:A,initialData:ye},ctbFormsAPI:pe,customFieldValidator:R.options?.validator});else if(ke&&qe&&ct)X=Ye.component.schema(Object.keys(Ot),F()(A,"componentToCreate.category",""),Ge,pe);else if(Re&&!ct){const Ue=l==="relation"?"relation":A.type;let Q=[];if(Ue==="relation"){const Ae=F()(A,["target"],null);Q=F()(rt,[Ae,"schema","attributes"],[]).filter(({name:Oe})=>i!=="edit"?!0:Oe!==ye.targetAttribute)}X=Ye.attribute.schema(F()(Te,S,{}),Ue,Ge,Q,{modifiedData:A,initialData:ye},pe)}else if(ns)X=Ye.editCategory.schema(L,ye,pe);else if(ct&&qe)X=Ye.component.schema(Object.keys(Ot),F()(A,"componentToCreate.category",""),Ge,pe);else return;await X.validate(Ie,{abortEarly:!1})},ss=(0,t.useCallback)(({target:{name:X,value:Ie,type:Ue,...Q}})=>{const Ae=["enumName","max","min","maxLength","minLength","regex","default"];let je;Ae.includes(X)&&Ie===""?je=null:je=Ie;const Oe=Object.assign({},Ze);X==="max"&&delete Oe.min,X==="maxLength"&&delete Oe.minLength,delete Oe[X],Z({type:de.Lg,errors:Oe}),Z({type:de.pO,keys:X.split("."),value:je,...Q})},[Z,Ze]),We=async(X,Ie=Je)=>{X.preventDefault();try{await Ho(),qo(Ie);const Ue=f==="components"?_:ya;if(G)if(Je)lt({...A,kind:C},g,ya),Pe({pathname:`/plugins/${w.A}/content-types/${ya}`}),a({forTarget:f,targetUid:Ue});else{mo(Te,A)?(e(),pa(A)):ie({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(Je){const Q=(0,ot.A)(A.displayName,A.category),{category:Ae,...je}=A;lt(je,"component",Q,Ae),Pe({pathname:`/plugins/${w.A}/component-categories/${Ae}/${Q}`}),a({forTarget:f,targetUid:Q})}else{Gt(A,g,_),e();return}else if(ns){if(St()(ye.name)===St()(A.name)){e();return}ua(ye.name,A);return}else if(Le){const Q={attributeToSet:{...A,customField:m},forTarget:f,targetUid:_,initialAttribute:ye};i==="edit"?ma(Q):be(Q),Ie?a({forTarget:f,targetUid:Ue}):e();return}else if(Re&&!qe){if(l==="dynamiczone"){ze(A,f,_,i==="edit",ye),Je?(Z({type:de.b5}),N.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:A.name})):e();return}if(!ke){ze(A,f,_,i==="edit",ye),Ie?a({forTarget:f,targetUid:Ue}):e();return}if(ct){r(),Z({type:de.gV,forTarget:f});return}ze(A,f,_,i==="edit",ye,!0),Ie?a({forTarget:f,targetUid:_}):e()}else if(Re&&qe){if(ct){Y("willCreateComponentFromAttributesModal"),Z({type:de.wX,forTarget:f}),r();return}const{category:Q,type:Ae,...je}=Dt,Oe=(0,ot.A)(Dt.displayName,Q);lt(je,Ae,Oe,Q,qe),ze(A,f,_,!1),Z({type:de.BO}),Ie?a({forTarget:"components",targetUid:Oe}):e();return}else{if(ct)if(qe){const{category:Q,type:Ae,...je}=A.componentToCreate,Oe=(0,ot.A)(A.componentToCreate.displayName,Q);lt(je,Ae,Oe,Q,qe),se(h,[Oe]),a({forTarget:"components",targetUid:Oe})}else ca(h,A.components),e();else console.error("This case is not handled");return}Z({type:de.BO})}catch(Ue){const Q=(0,u.ed)(Ue);console.log({err:Ue,errors:Q}),Z({type:de.Lg,errors:Q})}},Yo=()=>{window.confirm(Me({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),Z({type:de.BO}))},os=()=>{Fe()(A,ye)?(e(),Z({type:de.BO})):Yo()},Go=X=>{if(X==="advanced"){if(G){Y("didSelectContentTypeSettings");return}f==="contentType"&&Y("didSelectContentTypeFieldSettings")}},qo=X=>{g==="attribute"&&f==="contentType"&&l!=="dynamiczone"&&X&&Y("willAddMoreFieldToContentType")},Xo=()=>!!(g==="editCategory"||g==="component"||cn()(A,"createComponent")),Jo=po(f,_,ga);if(!x||!g)return null;const is=F()(Ye,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Qo=f==="components"||f==="component",rs={customInputs:{"allowed-types-select":mn,"boolean-radio-group":In,"checkbox-with-number-field":Sn,"icon-picker":Ts,"content-type-radio-group":Fn,"radio-group":Et,relation:_s,"select-category":ks,"select-component":Vs,"select-components":ws,"select-default-boolean":xn,"select-number":Ys,"select-date":Hs,"toggle-draft-publish":Nn,"text-plural":Os,"text-singular":Gs,"textarea-enum":Xs,...ue},componentToCreate:Dt,dynamicZoneTarget:h,formErrors:Ze,isAddingAComponentToAnotherComponent:Qo,isCreatingComponentWhileAddingAField:Pt,mainBoxHeader:F()(Te,[...S,"schema","displayName"],""),modifiedData:A,naturePickerType:f,isCreating:Je,targetUid:_,forTarget:f},ls=is.advanced({data:A,type:l,step:B,actionType:i,attributes:Aa,extensions:pe,forTarget:f,contentTypeSchema:Te.contentType||{},customField:R}).sections,cs=is.base({data:A,type:l,step:B,actionType:i,attributes:Aa,extensions:pe,forTarget:f,contentTypeSchema:Te.contentType||{},customField:R}).sections,ei=Za(cs),ti=Za(ls),ni=Object.keys(Ze).some(X=>ei.includes(X)),ai=Object.keys(Ze).some(X=>ti.includes(X)),si=F()(rt,[_,"schema","kind"]),oi=()=>i==="edit"&&Aa.every(({name:X})=>X!==A?.name),ii=()=>{oi()&&Y("didEditFieldNameOnContentType")};return t.createElement(on.k,{onClose:os,labelledBy:"title"},t.createElement(ms,{actionType:i,attributeName:c,categoryName:p,contentTypeKind:C,dynamicZoneTarget:h,modalType:g,forTarget:f,targetUid:_,attributeType:l,customFieldUid:m,showBackLink:D}),as&&t.createElement(Pn,{attributes:Jo,forTarget:f,kind:si||"collectionType"}),!as&&t.createElement("form",{onSubmit:We},t.createElement(It.c,null,t.createElement(Bt.f,{label:"todo",id:"tabs",variant:"simple",ref:N,onTabChange:X=>{X===1&&Go("advanced")}},t.createElement(M.s,{justifyContent:"space-between"},t.createElement(gs,{actionType:i,forTarget:f,kind:C,step:B,modalType:g,attributeType:l,attributeName:c,customField:R}),t.createElement(we.t,null,t.createElement(we.o,{hasError:ni},Me({id:(0,d.A)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(we.o,{hasError:ai,disabled:Xo()},Me({id:(0,d.A)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(mt.c,null),t.createElement(T.a,{paddingTop:6},t.createElement(He.T,null,t.createElement(He.K,null,t.createElement(M.s,{direction:"column",alignItems:"stretch",gap:6},l==="blocks"&&t.createElement(ka,null,Me({id:(0,d.A)("form.feature.beta"),defaultMessage:"This feature is in Beta."})),t.createElement(Fa,{form:cs,formErrors:Ze,genericInputProps:rs,modifiedData:A,onChange:ss}))),t.createElement(He.K,null,t.createElement(M.s,{direction:"column",alignItems:"stretch",gap:6},l==="blocks"&&t.createElement(ka,null,Me({id:(0,d.A)("form.feature.beta"),defaultMessage:"This feature is in Beta."})),t.createElement(Fa,{form:ls,formErrors:Ze,genericInputProps:rs,modifiedData:A,onChange:ss}))))))),t.createElement(rn.j,{endActions:t.createElement(Wn,{deleteCategory:da,deleteContentType:Yt,deleteComponent:Yt,categoryName:ye.name,isAttributeModal:g==="attribute",isCustomFieldModal:g==="customField",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:A.createComponent||!1,isCreatingComponentInDz:A.createComponent||!1,isCreatingComponentWhileAddingAField:Pt,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:B==="1",onSubmitAddComponentAttribute:We,onSubmitAddComponentToDz:We,onSubmitCreateComponent:We,onSubmitCreateContentType:We,onSubmitCreateDz:We,onSubmitEditAttribute:We,onSubmitEditCategory:We,onSubmitEditComponent:We,onSubmitEditContentType:We,onSubmitEditCustomFieldAttribute:We,onSubmitEditDz:We,onClickFinish:ii}),startActions:t.createElement(le.$,{variant:"tertiary",onClick:os},Me({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))};var ve=n(34389),fo=n(13524);const ho=()=>e=>e[`${w.A}_dataManagerProvider`]||fo.u,yo=()=>(0,za.Mz)(ho(),e=>e);var Ao=n(5790),vo=n.n(Ao),Eo=n(35223),Va=n.n(Eo),Mo=n(45635),bo=n.n(Mo);const Co=(e,a)=>{const o=Object.keys(e).filter(r=>{const i=F()(e,r,{}),c=F()(a,r,{}),l=F()(i,["isTemporary"],!1),m=!Fe()(i,c);return l||m});return(0,Ve.A)(o)},To=(e,a)=>{const o=Ha(F()(e,"schema.attributes",[]),a),r=F()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},Va()(e.schema,"attributes"),{attributes:o})},wa=(e,a=!1)=>{const o=F()(e,"uid",null),r=Ha(F()(e,"schema.attributes",[]),o),i=a?{category:F()(e,"category","")}:{},c=Object.assign(i,Va()(e.schema,"attributes"),{attributes:r});return delete c.uid,delete c.isTemporary,delete c.visible,delete c.restrictRelationsTo,c},Ha=(e,a)=>e.reduce((o,{name:r,...i})=>{const c=i,l=c.target===a,m=c.type==="relation",p=F()(c,"targetAttribute",null);if(!l)if(m){const h=Object.assign({},c,{targetAttribute:Ya(p)});o[r]=Ht(h)}else o[r]=Ht(c);if(l){const h=c.target,f=Object.assign({},c,{target:h,targetAttribute:Ya(p)});o[r]=Ht(f)}if(c.customField){const h={...c,type:"customField"};o[r]=Ht(h)}return o},{}),Ya=e=>e==="-"?null:e,Ht=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),Ro=(e,a,o,r=!1)=>Co(e,a).map(l=>{const m=F()(e,l,{});return To(m,o,r)}),Oo=e=>bo()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${w.A}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>vo()(a.title)),Ga=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),Do=(e,a,o,r)=>{const i=a.reduce((m,p)=>{const h=F()(o,p,{});return m[p]=h,m},{});return{[r?"contentType":"component"]:e,components:i}},Po=e=>Object.keys(e).reduce((a,o)=>{const r=e[o].schema;return a[o]={...e[o],schema:{...r,attributes:xo(r.attributes)}},a},{}),xo=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]),qa=Po;var Lo=n(88507);const Io=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=F()(e,[r],{}),c=i.uid;return Bo(i)&&o.push(c),o},[]);return(0,Ve.A)(a)},Bo=e=>F()(e,["schema","attributes"],[]).some(o=>{const{type:r}=o;return r==="component"}),So=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=e?.[r]?.schema?.attributes??[],c=Fo(i);return[...o,...c]},[]);return(0,Ve.A)(a)},Fo=e=>e.reduce((a,o)=>{const{type:r,component:i}=o;return r==="component"&&a.push(i),a},[]),Xa=So,No=(e,a)=>{const o=Object.keys(e).map(r=>F()(e,[r,...a],""));return(0,Ve.A)(o)},Ja="did-not-kill-server",Wo="server is down";function Rt(e,a){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error(Wo);if(!a)throw new Error(Ja);o(e)}).catch(r=>{setTimeout(()=>Rt(e,r.message!==Ja).then(o),100)})})}const Uo=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0),la=({children:e,components:a,contentTypes:o,isLoading:r,isLoadingForDataToBeSet:i,initialData:c,modifiedData:l,reservedNames:m})=>{const p=(0,_e.wA)(),h=(0,u.hN)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:g}=(0,u.Ip)(),{setCurrentStep:x}=(0,u.Cx)(),{getPlugin:D}=(0,u.vD)(),{apis:C}=D(w.A),{autoReload:B}=(0,u.Xe)(),{formatMessage:_}=(0,y.A)(),{trackUsage:R}=(0,u.z1)(),{refetchPermissions:N}=(0,u.r5)(),{pathname:$}=(0,z.zy)(),{onCloseModal:Z}=(0,Ne.A)(),ie=(0,z.W5)(`/plugins/${w.A}/content-types/:uid`),Ee=(0,z.W5)(`/plugins/${w.A}/component-categories/:categoryUid/:componentUid`),Pe=(0,u.ry)(),{put:Y,post:Me,del:re}=Pe,xe=(0,t.useRef)();xe.current=_;const pe=B,ue=ie!==null,ze=ue?"contentType":"component",be=ue?F()(ie,"params.uid",null):F()(Ee,"params.componentUid",null),se=(0,t.useRef)(),L=ue?"content-types":"components";se.current=async()=>{try{const[{data:{data:A}},{data:{data:S}},{data:G}]=await Promise.all(["components","content-types","reserved-names"].map(Je=>Pe.get(`/${w.A}/${Je}`))),fe=Ga(A),Re=qa(fe),Le=Ga(S),ke=qa(Le);p({type:ve.yX,components:Re,contentTypes:ke,reservedNames:G})}catch(A){console.error({err:A}),h({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(se.current(),()=>{p({type:ve.id})}),[]),(0,t.useEffect)(()=>{!r&&be&&Gt()},[r,$,be]),(0,t.useEffect)(()=>{B||h({type:"info",message:{id:(0,d.A)("notification.info.autoreaload-disable")}})},[B,h]);const ca=(A,S,G,fe=!1,Re,Le=!1)=>{const ke=fe?ve.og:ve.LA;p({type:ke,attributeToSet:A,forTarget:S,targetUid:G,initialAttribute:Re,shouldAddComponentToData:Le})},rt=({attributeToSet:A,forTarget:S,targetUid:G,initialAttribute:fe})=>{p({type:ve.gY,attributeToSet:A,forTarget:S,targetUid:G,initialAttribute:fe})},Ot=({attributeToSet:A,forTarget:S,targetUid:G,initialAttribute:fe})=>{p({type:ve.hM,attributeToSet:A,forTarget:S,targetUid:G,initialAttribute:fe})},lt=(A,S)=>{p({type:ve.Kf,dynamicZoneTarget:A,componentsToAdd:S})},da=(A,S,G,fe,Re=!1)=>{const Le=S==="contentType"?ve.nr:ve.nT;p({type:Le,data:A,componentCategory:fe,schemaType:S,uid:G,shouldAddComponentToData:Re})},Yt=(A,S)=>{p({type:ve.NJ,dynamicZoneTarget:A,newComponents:S})},ua=(A,S,G="")=>{const fe=A==="components"?ve.HK:ve.KB;A==="contentType"&&R("willDeleteFieldOfContentType"),p({type:fe,mainDataKey:A,attributeToRemoveName:S,componentUid:G})},ma=async A=>{try{const S=`/${w.A}/component-categories/${A}`,G=window.confirm(_({id:(0,d.A)("popUpWarning.bodyMessage.category.delete")}));Z(),G&&(f(),await re(S),await Rt(!0),await g(),await ye())}catch(S){console.error({err:S}),h({type:"warning",message:{id:"notification.error"}})}finally{g()}},pa=async()=>{try{const A=`/${w.A}/${L}/${be}`,S=F()(l,[ze,"isTemporary"],!1),G=window.confirm(_({id:(0,d.A)(`popUpWarning.bodyMessage.${ue?"contentType":"component"}.delete`)}));if(Z(),G){if(S){p({type:ve.j$});return}f(),await re(A),await Rt(!0),await g(),await ye()}}catch(A){console.error({err:A}),h({type:"warning",message:{id:"notification.error"}})}finally{g()}},Te=async(A,S)=>{try{const G=`/${w.A}/component-categories/${A}`;Z(),f(),await Y(G,S),await Rt(!0),await g(),await ye()}catch(G){console.error({err:G}),h({type:"warning",message:{id:"notification.error"}})}finally{g()}},ga=()=>{const A=Object.assign({},a,l.components);if(!ue){const G=F()(l,"component",{});Lt()(A,F()(G,["uid"],""),G)}const S=Io(A);return(0,Ve.A)(S)},fa=()=>{const A=Xa(a),S=Xa(l.components||{});return(0,Ve.A)([...S,...A])},ha=(A,S)=>{p({type:ve.lj,dzName:A,componentToRemoveIndex:S})},Gt=()=>{const A=ue?o:a,S=F()(A,be,{schema:{attributes:[]}}),G=(0,Lo.A)(S.schema.attributes,a),fe=Do(S,G,a,ue),Re=F()(S,"isTemporary",!1)&&en()(F()(S,"schema.attributes",[]))===0;p({type:ve.S0,schemaToSet:fe,hasJustCreatedSchema:Re})},Ge=(0,t.useMemo)(()=>{const A=ue?o:a;return be==="create-content-type"?!1:!Object.keys(A).includes(be)&&!r},[a,o,be,ue,r]),Dt=(0,t.useMemo)(()=>{const A=Object.keys(o).filter(S=>F()(o,[S,"schema","visible"],!0)).sort();return F()(A,"0","create-content-type")},[o]);if(Ge)return t.createElement(z.rd,{to:`/plugins/${w.A}/content-types/${Dt}`});const Ze=async A=>{try{const S=F()(l,[ze,"isTemporary"],!1),G={components:Ro(l.components,a,be,S)};if(ue){const Le=C.forms.mutateContentTypeSchema({...wa(l.contentType),...A},c.contentType);if(!Uo(Le)){h({type:"warning",message:{id:(0,d.A)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}G.contentType=Le,R("willSaveContentType")}else G.component=wa(l.component,!0),R("willSaveComponent");f();const fe=`/${w.A}/${L}`,Re=S?fe:`${fe}/${be}`;if(S?await Me(Re,G):await Y(Re,G),await Rt(!0),await g(),S&&(c.contentType?.schema.kind==="collectionType"||c.contentType?.schema.kind==="singleType")&&x("contentTypeBuilder.success"),ue){R("didSaveContentType");const Le=F()(G,["contentType","schema","name"],""),ke=F()(c,["contentType","schema","name"],"");!S&&Le!==ke&&R("didEditNameOfContentType")}else R("didSaveComponent");await ye()}catch(S){ue||R("didNotSaveComponent"),console.error({err:S.response}),h({type:"warning",message:{id:"notification.error"}})}finally{g()}},ye=async()=>{await N()},Pt=(A,S,G)=>{p({type:ve.k6,data:A,schemaType:S,uid:G})};return t.createElement(an.A.Provider,{value:{addAttribute:ca,addCustomFieldAttribute:rt,addCreatedComponentToDynamicZone:lt,allComponentsCategories:No(a,["category"]),changeDynamicZoneComponents:Yt,components:a,componentsGroupedByCategory:Xt()(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:ga(),contentTypes:o,createSchema:da,deleteCategory:ma,deleteData:pa,editCategory:Te,editCustomFieldAttribute:Ot,isInDevelopmentMode:pe,initialData:c,isInContentTypeView:ue,modifiedData:l,nestedComponents:fa(),removeAttribute:ua,removeComponentFromDynamicZone:ha,reservedNames:m,setModifiedData:Gt,sortedContentTypesList:Oo(o),submitData:Ze,updateSchema:Pt}},i?t.createElement(u.Bl,null):t.createElement(t.Fragment,null,e,pe&&t.createElement(go,null)))};la.defaultProps={components:{}},la.propTypes={children:s().node.isRequired,components:s().object,contentTypes:s().object.isRequired,isLoading:s().bool.isRequired,isLoadingForDataToBeSet:s().bool.isRequired,initialData:s().object.isRequired,modifiedData:s().object.isRequired,reservedNames:s().object.isRequired};const jo=yo(),Ko=(0,_e.Ng)(jo,null),$o=(0,nn.compose)(Ko)((0,t.memo)(la));var _o=n(58329);const Qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},es=({children:e})=>{const[a,o]=(0,t.useState)(Qa),{trackUsage:r}=(0,u.z1)(),i=({attributeType:R,customFieldUid:N})=>{o($=>({...$,actionType:"create",modalType:"customField",attributeType:R,customFieldUid:N}))},c=({attributeType:R,step:N})=>{a.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:R}),o($=>({...$,actionType:"create",modalType:"attribute",step:N,attributeType:R,showBackLink:!0}))},l=({dynamicZoneTarget:R,targetUid:N})=>{o($=>({...$,dynamicZoneTarget:R,targetUid:N,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},m=({forTarget:R,targetUid:N})=>{o($=>({...$,actionType:"create",forTarget:R,targetUid:N,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},p=R=>{o(N=>({...N,...R,isOpen:!0}))},h=R=>{o(N=>({...N,categoryName:R,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:R,targetUid:N,attributeName:$,attributeType:Z,customFieldUid:ie})=>{o(Ee=>({...Ee,modalType:"customField",customFieldUid:ie,actionType:"edit",forTarget:R,targetUid:N,attributeName:$,attributeType:Z,isOpen:!0}))},g=({forTarget:R,targetUid:N,attributeName:$,attributeType:Z,step:ie})=>{o(Ee=>({...Ee,modalType:"attribute",actionType:"edit",forTarget:R,targetUid:N,attributeName:$,attributeType:Z,step:ie,isOpen:!0}))},x=({modalType:R,forTarget:N,targetUid:$,kind:Z})=>{o(ie=>({...ie,modalType:R,actionType:"edit",forTarget:N,targetUid:$,kind:Z,isOpen:!0}))},D=()=>{o(Qa)},C=({forTarget:R,targetUid:N})=>{o($=>({...$,forTarget:R,targetUid:N,modalType:"chooseAttribute"}))},B=()=>{o(R=>({...R,attributeType:"component",modalType:"attribute",step:"2"}))},_=({dynamicZoneTarget:R})=>{o(N=>({...N,dynamicZoneTarget:R,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(_o.A.Provider,{value:{...a,onClickSelectField:c,onClickSelectCustomField:i,onCloseModal:D,onNavigateToChooseAttributeModal:C,onNavigateToAddCompoToDZModal:_,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:B,onOpenModalAddField:m,onOpenModalCreateSchema:p,onOpenModalEditCategory:h,onOpenModalEditField:g,onOpenModalEditCustomField:f,onOpenModalEditSchema:x,setFormModalNavigationState:o}},e)};es.propTypes={children:s().node.isRequired};const zo=es;var Zo=n(29661);const ko=(0,t.lazy)(()=>n.e(5472).then(n.bind(n,72019))),Vo=()=>{const{url:e}=(0,z.W5)(),{categoryUid:a}=(0,z.g)();return t.createElement(t.Suspense,{fallback:t.createElement(u.Bl,null)},t.createElement(z.dO,null,t.createElement(z.qh,{path:`${e}/:componentUid`},t.createElement(ko,{categoryId:a}))))},ts=(0,t.lazy)(()=>n.e(5472).then(n.bind(n,72019))),wo=()=>{const{formatMessage:e}=(0,y.A)(),a=e({id:`${w.A}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,u.Cx)(),r=(0,t.useRef)(o);return(0,t.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),t.createElement(u.kz,{permissions:Zo.J.main},t.createElement(E.m,{title:a}),t.createElement(zo,null,t.createElement($o,null,t.createElement(O.P,{sideNav:t.createElement(Qe,null)},t.createElement(t.Suspense,{fallback:t.createElement(u.Bl,null)},t.createElement(z.dO,null,t.createElement(z.qh,{path:`/plugins/${w.A}/content-types/create-content-type`,component:ts}),t.createElement(z.qh,{path:`/plugins/${w.A}/content-types/:uid`,component:ts}),t.createElement(z.qh,{path:`/plugins/${w.A}/component-categories/:categoryUid`,component:Vo})))))))}},72417:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...E,children:(0,t.jsx)("path",{fill:"#212134",d:"M0 10.7c0-.11.09-.2.2-.2h18.06l-8.239-8.239a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L23.86 11.86a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L10.02 22.02a.2.2 0 0 1 0-.282L18.26 13.5H.2a.2.2 0 0 1-.2-.2v-2.6Z"})}),u=O},74565:V=>{function U(n,t){var O=n.length;for(n.sort(t);O--;)n[O]=n[O].value;return n}V.exports=U},75821:(V,U,n)=>{var t=n(91522);function O(u,E){return function(y,z){if(y==null)return y;if(!t(y))return u(y,z);for(var T=y.length,H=E?T:-1,J=Object(y);(E?H--:++H<T)&&z(J[H],H,J)!==!1;);return y}}V.exports=O},76079:(V,U,n)=>{"use strict";n.d(U,{B:()=>E});var t=n(92132),O=n(63891),u=n(56654);const E=({options:z,...T})=>(0,t.jsx)(u.KF,{...T,children:z.map(H=>"children"in H?(0,t.jsx)(u.np,{label:H.label,values:H.children.map(J=>J.value.toString()),children:H.children.map(J=>(0,t.jsx)(y,{value:J.value,children:J.label},J.value))},H.label):(0,t.jsx)(u.fe,{value:H.value,children:H.label},H.value))}),y=(0,O.Ay)(u.fe)`
  padding-left: ${({theme:z})=>z.spaces[7]};
`},97449:(V,U,n)=>{var t=n(85373),O=n(75821),u=O(t);V.exports=u},98052:(V,U,n)=>{"use strict";n.d(U,{A:()=>u});var t=n(92132);const O=E=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 8 8",...E,children:(0,t.jsx)("path",{fill:"#212134",d:"M2 .93c0-.4.45-.63.78-.41l4.6 3.06c.3.2.3.64 0 .84l-4.6 3.06A.5.5 0 0 1 2 7.07V.93Z"})}),u=O}}]);
